"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[132],{20833:function(A,m,t){t.r(m);var E=t(15009),o=t.n(E),h=t(97857),s=t.n(h),I=t(99289),v=t.n(I),f=t(65302),g=t(73219),P=t(19179),x=t(72644),b=t(73406),i=t(97584),D=t(7837),M=t(67294),d=t(85893);m.default=function(){var r,y=(0,D.useModel)("@@initialState"),u=y.initialState,C=y.setInitialState,T=(0,M.useContext)(g.r),p=T.setting,_=T.setSetting,O=function(){var l=v()(o()().mark(function a(){var e,c;return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return P.yw.loading({key:i.iU,content:"loading..."}),n.next=3,(0,i.ar)();case 3:return e=n.sent,n.next=6,(0,b.Zl)(!0);case 6:return c=n.sent,n.next=9,i.ZP.get("dev/menu/clearCache");case 9:return C(function(j){return s()(s()({},j),{},{settings:c})}).then(function(){_==null||_(s()(s()({},u==null?void 0:u.settings),c)),P.yw.success({key:i.iU,content:"\u5237\u65B0\u6210\u529F"})}),n.abrupt("return",e.data);case 11:case"end":return n.stop()}},a)}));return function(){return l.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.Z,{url:"dev/setting",formTitle:!1,devEnable:!1,tabs:[{title:"\u57FA\u7840\u914D\u7F6E",formColumns:[{title:"\u7CFB\u7EDF\u540D\u79F0",dataIndex:"title"},{title:"\u6280\u672F\u652F\u6301",dataIndex:"tech"},{valueType:"group",columns:[{title:"\u5B50\u6807\u9898",dataIndex:"subtitle",colProps:{span:12}},{title:"\u540E\u53F0\u524D\u7F00",dataIndex:"baseurl",colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u6C34\u5370\u8BBE\u7F6E",dataIndex:"watermark",tooltip:"1.username\u8868\u793A\u540E\u53F0\u7528\u6237\u540D",colProps:{span:12}},{title:"\u83DC\u5355\u6700\u5927\u5C42\u7EA7",dataIndex:"menu_max_level",tooltip:"\u540E\u53F0\u83DC\u5355\u7684\u6700\u5927\u5C42\u7EA7\uFF0C\u4E0D\u8981\u8D85\u8FC75\u5C42,\u9ED8\u8BA4\u4E3A\u6700\u59274\u5C42",valueType:"digit",width:"100%",colProps:{span:12}}]},{valueType:"group",columns:[{title:"logo",valueType:"uploader",dataIndex:"logo",colProps:{span:12}},{title:"favicons",tooltip:"\u81EA\u884C\u8986\u76D6\u76EE\u5F55\u4E0B\u7684favicon.ico \u6587\u4EF6",readonly:!0,dataIndex:"favicons",colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u5F00\u53D1\u6A21\u5F0F",valueType:"switch",dataIndex:"dev",fieldProps:{defaultChecked:!0},colProps:{span:12}},{title:"\u591A\u8BED\u8A00",valueType:"switch",dataIndex:"lang",fieldProps:{defaultChecked:!0},colProps:{span:12}}]},{valueType:"group",title:"\u77ED\u4FE1\u8BBE\u7F6E",columns:[{title:"\u77ED\u4FE1\u5E73\u53F0",valueType:"select",dataIndex:"sms_type",fieldProps:{options:[{label:"\u963F\u91CC\u4E91",value:"aliyun"}]},colProps:{span:8}},{title:"\u9A8C\u8BC1\u7801\u6A21\u677Fid",dataIndex:"sms_code_id",colProps:{span:8}},{title:"\u6A21\u677F\u540D\u79F0",dataIndex:"sms_name",colProps:{span:8}}]}]},{title:"\u5730\u56FE\u8BBE\u7F6E",formColumns:[{valueType:"group",columns:[{title:"\u817E\u8BAF\u5730\u56FEkey",dataIndex:"tmap_key",colProps:{span:12}},{title:"\u767E\u5EA6\u5730\u56FEkey",dataIndex:"bmap_key",colProps:{span:12}}]}]},{title:"\u4E3B\u9898\u914D\u7F6E",formColumns:[{valueType:"group",columns:[{valueType:"switch",title:"\u81EA\u52A8\u6697\u9ED1\u6A21\u5F0F",dataIndex:"theme_auto_dark",fieldProps:{defaultChecked:!1},colProps:{span:12}},{valueType:"dependency",name:["theme_auto_dark"],columns:function(a){var e=a.theme_auto_dark;return e?[{title:"\u767D\u5929\u65F6\u95F4\u6BB5",valueType:"timeRange",dataIndex:"theme_auto_light_time_range",fieldProps:{minuteStep:15,secondStep:10},width:"100%",colProps:{span:12}}]:[]}}]},{valueType:"group",columns:[{title:"\u4FA7\u8FB9\u680F\u6697\u9ED1\u6A21\u5F0F",dataIndex:"siderDark",valueType:"switch",tooltip:"\u53EA\u6709\u5BFC\u822A\u6A21\u5F0F\u4E3A\u4FA7\u8FB9\u83DC\u5355\u5E03\u5C40(layout:side)\u6A21\u5F0F\u4E0B\u8BE5\u8BBE\u7F6E\u624D\u4F1A\u751F\u6548",colProps:{span:12}},{title:"\u4E3B\u9898\u8272",dataIndex:"colorPrimary",valueType:"colorPicker",tooltip:"\u4F18\u5148\u7EA7\u9AD8\u4E8E\u53F3\u4FA7\u8BBE\u7F6E\u4E2D\u9009\u62E9\u7684\u4E3B\u9898\u8272",colProps:{span:12}}]},{title:"AntdPro\u914D\u7F6E",dataIndex:"antdpro",valueType:"jsonEditor",tooltip:"\u8BF7\u5C06\u53F3\u4FA7\u8BBE\u7F6E\u6309\u94AE\u4E2D\u7684\u914D\u7F6E\u70B9\u51FB\u62F7\u8D1D\u8BBE\u7F6E\u540E\u7C98\u8D34\u5230\u8FD9\u91CC\u4FDD\u5B58"},{title:"Antd\u4E3B\u9898\u914D\u7F6E",dataIndex:"theme",valueType:"jsonEditor"}]},{title:"\u767B\u5F55\u8BBE\u7F6E",formColumns:[{valueType:"group",columns:[{title:"\u767B\u5F55\u9875\u80CC\u666F\u56FE",valueType:"uploader",dataIndex:"loginBgImgage",colProps:{span:12}},{title:"\u767B\u5F55\u6846\u80CC\u666F\u8272",valueType:"colorPicker",dataIndex:"loginBgCardColor",tooltip:"\u5982\u679C\u4F7F\u7528\u4E86\u767B\u5F55\u80CC\u666F\u56FE\u5BFC\u81F4\u767B\u5F55\u6846\u4E0D\u6E05\u6670\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u8BE5\u503C\uFF0C\u9ED8\u8BA4\u4E3Anone",colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u767B\u5F55\u65B9\u5F0F",valueType:"checkbox",dataIndex:"loginType",fieldProps:{options:[{label:"\u8D26\u53F7\u5BC6\u7801",value:"password"},{label:"\u624B\u673A\u53F7\u767B\u5F55",value:"phone"}]},colProps:{span:12}},{title:"\u9ED8\u8BA4\u767B\u5F55\u65B9\u5F0F",valueType:"radio",dataIndex:"loginTypeDefault",fieldProps:{options:[{label:"\u8D26\u53F7\u5BC6\u7801",value:"password"},{label:"\u624B\u673A\u53F7\u767B\u5F55",value:"phone"}]},colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u5176\u5B83\u767B\u5F55\u65B9\u5F0F",valueType:"checkbox",dataIndex:"loginActions",fieldProps:{options:[{label:"\u5FAE\u4FE1\u516C\u4F17\u53F7",value:"wechat"}]},colProps:{span:12}},{title:"\u663E\u793A\u9A8C\u8BC1\u7801\u767B\u5F55\u9519\u8BEF\u6B21\u6570",dataIndex:"login_error_times",tooltip:"\u767B\u5F55\u5931\u8D25\u8BE5\u6B21\u6570\u540E\u5C55\u793A\u56FE\u5F62\u9A8C\u8BC1\u7801\u8F93\u5165\u6846\uFF0C\u9ED8\u8BA4\u6570\u5B57\u4E3A3\u6B21",colProps:{span:12}}]},{valueType:"dependency",name:["loginActions"],columns:function(a){var e=a.loginActions;return e&&(0,f.d3)("wechat",e)>-1?[{valueType:"group",columns:[{title:"\u4E8C\u7EF4\u7801\u5730\u5740",dataIndex:["loginWechat","url"],colProps:{span:12}},{title:"\u63CF\u8FF0\u6587\u5B57",dataIndex:["loginWechat","desc"],colProps:{span:12}}]}]:[]}}]},{title:"Socket\u914D\u7F6E",formColumns:[{title:"\u662F\u5426\u5F00\u542F",dataIndex:["socket","open"],valueType:"switch"},{title:"\u8FDE\u63A5\u5730\u5740",dataIndex:["socket","url"]},{valueType:"group",columns:[{title:"\u5F00\u542Fping",dataIndex:["socket","ping"],valueType:"switch"},{valueType:"dependency",name:[["socket","ping"]],columns:function(a){var e=a.socket;return e!=null&&e.ping?[{title:"\u65F6\u95F4\u95F4\u9694",dataIndex:["socket","pingInterval"],valueType:"digit",colProps:{span:12},fieldProps:{addonAfter:"\u79D2"},width:"100%"},{title:"ping\u4FE1\u606F",dataIndex:["socket","pingData"],colProps:{span:12}}]:[]}}]}]}],msgcls:v()(o()().mark(function l(){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return e.abrupt("return");case 3:case"end":return e.stop()}},l)}))}),p!=null&&(r=p.adminSetting)!==null&&r!==void 0&&r.dev?null:(0,d.jsx)(g.j,{})]})}}}]);
