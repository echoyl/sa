"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[571],{50888:function(Pa,ce,i){i.r(ce),i.d(ce,{default:function(){return Ta}});var We=i(97857),f=i.n(We),Ke=i(15009),w=i.n(Ke),Ge=i(99289),fe=i.n(Ge),Qe=i(5574),A=i.n(Qe),Je=i(13769),te=i.n(Je),ae=i(97584),Xe=i(43425),V=i(38345),pe=i(1956),le=i(6110),B=i(7837),H=i(15746),me=i(48096),K=i(71230),ge=i(87564),U=i(42075),k=i(14726),ne=i(86250),F=i(67294),ie=i(27076),Y=i(34720),oe=i(6466),we=i(98165),xe=i(63430),he=i(79611),ye=i(78677),Ce=i(80652),ke=i(7134),qe=i(31418),je=i(72058),_e=i(27484),Te=i.n(_e),Pe=i(61503),be=i(33237),Se=i(17003),q={pageHeaderContent:"pageHeaderContent___exWxI",avatar:"avatar___rptEO",content:"content___jBAzR",contentTitle:"contentTitle___TsVhT",extraContent:"extraContent___tNqx0",statItem:"statItem___jPU6u"},Q=i(48271),et=i(35914),t=i(85893),tt=function(e){var r=e.data,a=e.config,o=a===void 0?{}:a,n=(0,Y.hQ)();return(0,F.useEffect)(function(){var l=new Q.xs({id:n,map:new et.Z({pitch:0,style:"blank",center:[116.368652,39.93866],zoom:10.07})}),v=["#0A3663","#3771D9","#4D89E5","#64A5D3","#72BED6","#83CED6","#A6E1E0","#B8EFE2","#D7F9F0"].reverse(),y=o.field,s=o.domain_min,j=s===void 0?0:s,I=o.domain_max,b=I===void 0?100:I,m=new Q.dW({autoFit:!0}).source(r);m.color(y,v).scale(y,{type:"quantize",domain:[j,b]}).shape("fill").style({opacity:1}).active(!0);var x=new Q.Ie({zIndex:2}).source(r).color("#eee").size(.8).active(!0).style({lineType:"solid",dashArray:[2,2],opacity:1});l.addLayer(m),l.addLayer(x);var g=new Q.GI({offsets:[0,0],closeButton:!1});m.on("mousemove",function(p){g.setLnglat(p.lngLat).setHTML("<span>".concat(p.feature.properties.name,":").concat(p&&p.feature.properties[y]?p.feature.properties[y]:"-","</span>")),l.addPopup(g)}),m.on("mouseout",function(p){l.removePopup(g)});var c=new Q.oT({position:"bottomright"});c.onAdd=function(){var p=document.createElement("div");p.className="infolegend legend";for(var T=Math.floor(b/v.length),u=0;u<v.length;u++)p.innerHTML+='<i style="width: 18px;height: 18px;float: left;margin-right: 8px;opacity: 0.7;background:'+v[u]+'"></i> '+(j+u*T)+(v[u+1]?"\u2013"+T*(u+1)+"<br>":"+");return p},l.addControl(c)},[]),(0,t.jsx)("div",{id:n,style:{width:"100%",minHeight:300,position:"relative",overflow:"hidden",height:o.height}})},De=tt,re=i(96486),at=i(92077),_=i.n(at),Fe=function(e){var r,a=(0,B.useModel)("@@initialState"),o=a.initialState,n=o.currentUser,l=n&&Object.keys(n).length;return l?(0,t.jsxs)("div",{className:q.pageHeaderContent,children:[(0,t.jsx)("div",{className:q.avatar,children:(0,t.jsx)(ke.C,{size:"large",src:n.avatar?n.avatar:o==null||(r=o.settings)===null||r===void 0||(r=r.adminSetting)===null||r===void 0?void 0:r.logo})}),(0,t.jsx)("div",{className:q.content,children:(0,t.jsx)("div",{className:q.contentTitle,children:(0,t.jsxs)(K.Z,{children:[(0,t.jsxs)(H.Z,{span:12,children:[(0,t.jsx)(K.Z,{children:(0,t.jsxs)(H.Z,{children:["\u4F60\u597D\uFF0C",n.realname?n.realname:n.name]})}),(0,t.jsx)(K.Z,{children:(0,t.jsxs)(H.Z,{children:[n.rolename," ",(0,t.jsx)(k.ZP,{shape:"circle",type:"text",onClick:function(){var y;(y=e.flash)===null||y===void 0||y.call(e)},icon:(0,t.jsx)(we.Z,{})})]})})]}),(0,t.jsx)(H.Z,{span:12,style:{textAlign:"right"},children:(0,t.jsx)(lt,{})})]})})})]}):(0,t.jsx)(ge.Z,{avatar:!0,paragraph:{rows:1},active:!0})},lt=function(){var e=(0,F.useState)(Te()().format("YYYY\u5E74MM\u6708DD\u65E5 HH:mm:ss dddd")),r=A()(e,2),a=r[0],o=r[1],n=function l(){o(Te()().format("YYYY\u5E74MM\u6708DD\u65E5 HH:mm:ss dddd")),setTimeout(function(){return l()},1e3)};return setTimeout(function(){return n()},1e3),(0,t.jsx)(t.Fragment,{children:a})},nt=function(e){var r=e.url,a=r===void 0?"":r,o=(0,F.useState)(),n=A()(o,2),l=n[0],v=n[1],y=qe.Z.useApp(),s=y.message,j=(0,F.useState)(),I=A()(j,2),b=I[0],m=I[1],x=(0,B.useModel)("@@initialState"),g=x.initialState,c=function(){var u=fe()(w()().mark(function d(){var D,P,S,Z=arguments;return w()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return D=Z.length>0&&Z[0]!==void 0?Z[0]:{},s.loading("\u52A0\u8F7D\u4E2D..."),h.next=4,ae.ZP.get(a,{params:f()(f()({},b),D),then:function(){}});case 4:P=h.sent,S=P.data,s.destroy(),v(S);case 8:case"end":return h.stop()}},d)}));return function(){return u.apply(this,arguments)}}();(0,F.useEffect)(function(){c()},[]);var p=function(d){var D,P,S=d.type,Z=(D=d.config)===null||D===void 0?void 0:D.xField,E=(P=d.config)===null||P===void 0?void 0:P.yField;if(S=="pie"){var h,N;Z=d.config.colorField,E=d.config.angleField;var $=(0,re.sum)(d.data.map(function(L){return L[E]}));return(0,t.jsx)(xe.Z,f()({height:280,appendPadding:10,data:d.data,radius:.9,label:{position:"spider",text:function(M){return console.log("item is ",M),"".concat(M[Z],": ").concat(_()(M[E]).format("0,0"))}},annotations:[{type:"text",style:{text:`\u603B\u8BA1
`.concat($),x:"50%",y:"50%",textAlign:"center",fontSize:18}}],interactions:[{type:"element-active"}],legend:(h=d.config)!==null&&h!==void 0&&h.legend?(N=d.config)===null||N===void 0?void 0:N.legend:!1},d.config))}else if(S=="bar"){var R;return(0,t.jsx)(he.Z,f()({xField:Z,yField:E,scale:{x:{paddingInner:.4}},data:d.data,tooltip:{name:(R=d.config)===null||R===void 0?void 0:R.name,field:E}},d.config))}else{if(S=="column")return(0,t.jsx)(ye.Z,f()({xField:Z,yField:E,scale:{x:{paddingInner:.4}},data:d.data},d.config));if(S=="areaMap"){var z=f()({map:{type:"mapbox",style:"blank",center:[120.19382669582967,30.258134],zoom:13,pitch:0},source:{data:d.data,parser:{type:"geojson"}},autoFit:!0,color:{field:d.field,value:["#1A4397","#3165D1","#6296FE","#98B7F7","#DDE6F7","#F2F5FC"].reverse(),scale:{type:"quantile"}},style:{opacity:1,stroke:"#eee",lineWidth:.8,lineOpacity:1},state:{active:!0,select:{stroke:"blue",lineWidth:1.5,lineOpacity:.8}},label:{visible:!0,field:"name",style:{fill:"black",opacity:.5,fontSize:12,spacing:1,padding:[15,15]}},zoom:{position:"bottomright"},legend:{position:"bottomleft"}},d.config);return(0,t.jsx)("div",{style:{width:"100%",height:500},children:(0,t.jsx)(De,{data:d.data,config:d})})}else return(0,t.jsx)(Ce.Z,f()({smooth:!0,shapeField:"smooth",height:280,data:d.data,xField:"x",yField:"y",title:{visible:!0,text:d.title,style:{fontSize:14}},meta:{y:{alias:d.y}},label:{content:function(M){return M.y},position:"top",style:{fill:"#000000",opacity:.6}}},d.config))}},T=function u(d,D){var P;return(0,t.jsx)(ne.Z,{vertical:!0,gap:"middle",children:d==null||(P=d.row)===null||P===void 0?void 0:P.map(function(S,Z){var E;return(0,t.jsxs)(K.Z,{gutter:[16,16],children:[S.form?(0,t.jsx)(H.Z,{span:24,children:(0,t.jsx)(V.Z,{bodyStyle:{padding:0},children:(0,t.jsx)(pe.Z,{layoutType:"QueryFilter",columns:(0,be.ab)({initRequest:!0,columns:S.form.columns,devEnable:!1}),initialValues:b||S.form.value,onFinish:function(N){c(N),console.log("onFinish",N)}})})},Z+"form"):null,S==null||(E=S.col)===null||E===void 0?void 0:E.map(function(h,N){if(h.row){var $;return(0,t.jsx)(H.Z,{span:h.span?h.span:24/(($=S.col)===null||$===void 0?void 0:$.length),children:u(h,D)},N)}else if(h.tab){var R;return(0,t.jsx)(H.Z,{span:h.span?h.span:24/((R=S.col)===null||R===void 0?void 0:R.length),children:(0,t.jsx)(V.Z,{style:{borderTopRightRadius:0,borderTopLeftRadius:0},children:(0,t.jsx)(me.Z,{style:{background:"none"},tabBarStyle:{paddingLeft:0,marginBottom:0},items:h.tab.map(function(L,M){return{key:M,label:L.title,children:L.row?u(L,D):D(L,M,{notitle:!0})}})})},N)},N)}else{var z;return(0,t.jsx)(H.Z,{span:h.span?h.span:24/((z=S.col)===null||z===void 0?void 0:z.length),children:D(h,N)},N)}})]},Z)})})};return(0,t.jsx)(le._z,{title:!1,className:"saContainer",fixedHeader:ie.P.fixedHeader,header:{breadcrumbRender:function(d,D){return(0,t.jsx)(Y.Lr,{})}},children:(0,t.jsxs)(ne.Z,{vertical:!0,gap:"middle",children:[(0,t.jsx)(V.Z,{children:(0,t.jsx)(Fe,{flash:c})},"headcard"),T(l,function(u,d,D){return u.type=="card"?(0,t.jsx)(oe.Z,{style:{height:"100%"},statistic:{title:u.title,value:u.value,prefix:u.prefix,suffix:u.suffix,description:u.href?(0,t.jsx)(B.Link,{to:u.href,style:{fontSize:12},children:"\u67E5\u770B\u66F4\u591A"}):""}},d+"card"):u.type=="table"?(0,t.jsx)(V.Z,{style:{height:"100%"},children:(0,t.jsx)(je.Z,f()({columns:(0,Se.S)({initRequest:!0,columns:u.columns,initialState:g,devEnable:!1}),dataSource:u.data,title:function(){return u.title},rowKey:"id"},u.props))},d+"table"):u.type=="mapDots"?(0,t.jsx)(V.Z,{title:u.title,style:{height:"100%"},children:(0,t.jsx)(Pe.O1,f()(f()({},u.props),{},{dots:u.data}))},d+"mapDots"):(0,t.jsx)(oe.Z,{style:{height:"100%"},title:D!=null&&D.notitle?(0,t.jsx)("div",{style:{height:20}}):u.title,chart:p(u)},d+"chart")})]})})},it=nt,W=i(54532),ot=i(55647),se=i(47666),rt=i(14056),de=i(65302),st=i(96604),dt=i(96074),ut=i(38703),vt=i(64183),ct=["type","data","config"],ft=function(e){var r=e.type,a=e.data,o=e.config,n=te()(e,ct),l=(0,re.cloneDeep)(o),v=function(c){var p;return n==null||(p=n.fields)===null||p===void 0?void 0:p.find(function(T){return(T==null?void 0:T.value)==c})};if(delete l.type,r=="pie"){var y=l.colorField,s=l.angleField,j=(0,re.sum)(a.map(function(g){return g[s]}));return(0,t.jsx)(xe.Z,f()({appendPadding:10,data:a,label:{position:"outside",text:function(c){return"".concat(c[y],": ").concat(_()(c[s]).format("0,0"))},transform:[{type:"overlapDodgeY"}]},tooltip:function(c,p,T,u){return{value:"".concat(c[y],": ").concat(_()(c[s]).format("0,0"))}},annotations:[{type:"text",style:{text:`\u603B\u8BA1
`.concat(_()(j).format("0,0")),x:"50%",y:"50%",textAlign:"center",fontSize:18}}],interactions:[{type:"element-active"}],radius:.9,innerRadius:.6,legend:{color:{maxCols:1,maxRows:1,position:"top"}}},l))}else{if(r=="bar")return(0,t.jsx)(he.Z,f()({data:a,scale:{x:{paddingInner:.4}}},l));if(r=="column"){var I=l.xField,b=l.yField,m=v(b);return(0,t.jsx)(ye.Z,f()({data:a,scale:{x:{paddingInner:.4}},label:{text:function(c){return c==null?void 0:c[b]},textBaseline:"bottom"},style:{radiusTopLeft:10,radiusTopRight:10},tooltip:{name:m==null?void 0:m.label,field:b}},l))}else{if(r=="area")return(0,t.jsx)(vt.Z,f()({data:a},l));if(r=="mapDots")return(0,t.jsx)(Pe.O1,f()(f()({},l),{},{dots:(0,de.H1)(a)?a:[]}));if(r=="areaMap"){var x=f()({map:{style:"blank",center:[120.19382669582967,30.258134],zoom:13,pitch:0},source:{data:a,parser:{type:"geojson"}},autoFit:!0,color:{field:l.field,value:["#1A4397","#3165D1","#6296FE","#98B7F7","#DDE6F7","#F2F5FC"].reverse(),scale:{type:"quantile"}},style:{opacity:1,stroke:"#eee",lineWidth:.8,lineOpacity:1},state:{active:!0,select:{stroke:"blue",lineWidth:1.5,lineOpacity:.8}},label:{visible:!0,field:"name",style:{fill:"black",opacity:.5,fontSize:12,spacing:1,padding:[15,15]}},zoom:{position:"bottomright"},legend:{position:"bottomleft"}},l);return(0,t.jsx)(De,{config:x,data:a})}else return(0,t.jsx)(Ce.Z,f()({data:a},l))}}},pt=ft,mt=function(e){var r=e.title,a=e.data,o=e.config,n=o===void 0?{}:o,l=e.height,v=n.open,y=function(x){if(x.href){var g,c;return(0,t.jsx)(B.Link,{to:x==null?void 0:x.href,style:{fontSize:12},children:(g=x.statistic)!==null&&g!==void 0&&g.description?(c=x.statistic)===null||c===void 0?void 0:c.description:"\u67E5\u770B"})}else{var p;return(p=x.statistic)===null||p===void 0?void 0:p.description}},s=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"horizontal",c=x.map(function(p,T){return(0,t.jsx)(st.Z,f()({},p),T)});return g=="vertical"?c:(0,t.jsx)(U.Z,{children:c})},j=function(x,g){var c;if(!((c=x.open)!==null&&c!==void 0&&c.footer)||!x.footer)return null;var p;if(x.footer.type=="trend"){var T;if(!g.trend)return null;p=s(g.trend,(T=x.footer)===null||T===void 0?void 0:T.layout)}else{var u=g.footer?g.footer:x.footer.text;if(!u)return null;p=u}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(dt.Z,{style:{marginTop:-16,marginBottom:10}}),p]})},I=v!=null&&v.statistic?f()(f()({},n==null?void 0:n.statistic),{},{value:(0,de.BP)(a)?a==null?void 0:a.value:a,description:y(n)}):!1,b=function(x,g){var c=x.chart,p=c===void 0?{}:c,T=x.open,u=p.type,d=u===void 0?"":u;if(!(T!=null&&T.chart)||!d)return null;var D=p!=null&&p.height?{height:p==null?void 0:p.height,lineHeight:(p==null?void 0:p.height)+"px"}:{};if(d=="trend"){var P;return(0,t.jsx)("div",{style:D,children:s(g.trend,(P=x.chart)===null||P===void 0||(P=P.trend)===null||P===void 0?void 0:P.layout)})}else if(d=="progress"){var S;return(0,t.jsx)("div",{style:D,children:(S=g.progress)===null||S===void 0?void 0:S.map(function(Z,E){return(0,t.jsx)(ut.Z,f()({},Z),E)})})}else return(0,t.jsx)(pt,f()(f()({},g==null?void 0:g.chart),{},{config:p,type:d}));return null};return(0,t.jsx)(oe.Z,{footer:j(n,a),style:{height:l||"100%"},title:r,statistic:I,chart:b(n,a)})},gt=mt,xt=i(68400),ht=i.n(xt),Ie=i(51042),Ze=i(52108),Ee=i(47389),yt=i(26706),Ct=i(94261),jt=i(53682),Tt=i(97133),Pt=i(93967),bt=i.n(Pt),Me=i(70145),St=i(61723),Re=i(75686),Ne=i(10399),Dt=i(19632),J=i.n(Dt),Ft=function(e){return[{valueType:"group",columns:[{title:"x\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","xField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"y\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","yField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},Be(6)]}]},It=Ft,Zt=function(e){return[{valueType:"group",columns:[{title:"\u5B57\u6BB5",dataIndex:["defaultConfig","chart","field"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"\u533A\u95F4\u503Cmin",dataIndex:["defaultConfig","chart","domain_min"],colProps:{span:6},valueType:"digit",width:"100%"},{title:"\u533A\u95F4\u503Cmax",dataIndex:["defaultConfig","chart","domain_max"],colProps:{span:6},valueType:"digit",width:"100%"}]}]},Et=Zt,Mt=function(e){return[{valueType:"group",columns:[{title:"x\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","xField"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"y\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","yField"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}}]}]},Rt=Mt,Nt=function(e){return[{valueType:"group",columns:[{title:"x\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","xField"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"y\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","yField"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}}]}]},Lt=Nt,zt=function(e){return[{valueType:"group",columns:[{title:"x\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","xField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"y\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","yField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"\u5206\u7EC4\u5B57\u6BB5",tooltip:"\u591A\u6761\u7EBF\u53EF\u4F7F\u7528\u8BE5\u53C2\u6570",dataIndex:["defaultConfig","chart","colorField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},Be(6)]}]},At=zt,Bt=function(e){return[{valueType:"group",columns:[{title:"\u7F29\u653E\u7EA7\u522B",dataIndex:["defaultConfig","chart","zoom"],colProps:{span:12},valueType:"digit",width:"100%"},{title:"\u4E2D\u5FC3\u70B9lat",dataIndex:["defaultConfig","chart","lat"],colProps:{span:6},valueType:"digit",width:"100%"},{title:"\u4E2D\u5FC3\u70B9lng",dataIndex:["defaultConfig","chart","lng"],colProps:{span:6},valueType:"digit",width:"100%"}]}]},Ht=Bt,$t=function(e){return[{valueType:"group",columns:[{title:"\u89D2\u5EA6\u6620\u5C04\u5B57\u6BB5",dataIndex:["defaultConfig","chart","angleField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"\u989C\u8272\u6620\u5C04\u5B57\u6BB5",dataIndex:["defaultConfig","chart","colorField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"\u997C\u56FE\u534A\u5F84",dataIndex:["defaultConfig","chart","radius"],valueType:"digit",colProps:{span:6},width:"100%",fieldProps:{min:.1,max:1,step:.1,defaultValue:.9}},{title:"\u997C\u56FE\u5185\u534A\u5F84",dataIndex:["defaultConfig","chart","innerRadius"],valueType:"digit",colProps:{span:6},width:"100%",fieldProps:{min:.1,max:1,step:.1,defaultValue:.6}}]}]},Ot=$t,Vt=function(e){var r,a,o=e!=null&&(r=e.data)!==null&&r!==void 0&&r.chart?e==null||(a=e.data)===null||a===void 0?void 0:a.chart:e;return[{title:"\u56FE\u8868\u7C7B\u578B",dataIndex:["defaultConfig","chart","type"],valueType:"select",fieldProps:{options:[{label:"\u997C\u56FE",value:"pie"},{label:"\u6298\u7EBF\u56FE",value:"line"},{label:"\u67F1\u5F62\u56FE",value:"column"},{label:"\u6761\u5F62\u56FE",value:"bar"},{label:"\u533A\u57DF\u56FE",value:"area"},{label:"\u533A\u57DF\u5730\u56FE",value:"areaMap"},{label:"\u8D8B\u52BF",value:"trend"},{label:"\u8FDB\u5EA6\u6761",value:"progress"},{label:"\u6807\u70B9\u5730\u56FE",value:"mapDots"}]},colProps:{span:12}},{title:"\u9AD8\u5EA6",dataIndex:["defaultConfig","chart","height"],valueType:"digit",width:"100%",colProps:{span:12}},{name:[["defaultConfig","chart","type"]],valueType:"dependency",columns:function(l){var v=l.defaultConfig;if(!v)return[];var y=v.chart,s=y===void 0?{}:y;return(s==null?void 0:s.type)=="pie"?Ot(o):(s==null?void 0:s.type)=="line"?At(o):(s==null?void 0:s.type)=="area"?It(o):(s==null?void 0:s.type)=="column"?Lt(o):(s==null?void 0:s.type)=="bar"?Rt(o):(s==null?void 0:s.type)=="areaMap"?Et(o):(s==null?void 0:s.type)=="trend"?Ae(["defaultConfig","chart","trend","layout"]):(s==null?void 0:s.type)=="mapDots"?Ht(o):[]}}]},Le=Vt,Ut=[{valueType:"group",title:"statistic\u8BBE\u7F6E",columns:[{title:"\u6807\u9898",dataIndex:["defaultConfig","statistic","title"],colProps:{span:6}},{title:"\u63D0\u793A",dataIndex:["defaultConfig","statistic","tip"],colProps:{span:6}},{title:"\u524D\u7F00",dataIndex:["defaultConfig","statistic","prefix"],colProps:{span:6}},{title:"\u540E\u7F00",dataIndex:["defaultConfig","statistic","suffix"],colProps:{span:6}}]},{valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:["defaultConfig","statistic","status"],valueType:"select",fieldProps:{options:[{label:"success",value:"success"},{label:"processing",value:"processing"},{label:"default",value:"default"},{label:"error",value:"error"},{label:"warning",value:"warning"}]},colProps:{span:12}},{title:"\u94FE\u63A5",dataIndex:["defaultConfig","href"],colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u63CF\u8FF0",dataIndex:["defaultConfig","statistic","description"],valueType:"textarea",colProps:{span:24}}]}],Yt=[{valueType:"group",title:"footer\u8BBE\u7F6E",columns:[{title:"\u7C7B\u578B",dataIndex:["defaultConfig","footer","type"],valueType:"select",tooltip:"\u5982\u679C\u7C7B\u578B\u662F\u8D8B\u52BF\uFF0C\u6240\u9009\u6570\u636E\u5E94\u8BE5\u8FD4\u56DE\u6709trend:[{title,value,trend}]\u683C\u5F0F\u6570\u636E",fieldProps:{options:[{label:"\u6587\u672C",value:"text"},{label:"\u8D8B\u52BF",value:"trend"}],defaultValue:"text"},colProps:{span:12}},{name:[["defaultConfig","footer","type"]],valueType:"dependency",columns:function(e){var r,a=e.defaultConfig;return(a==null||(r=a.footer)===null||r===void 0?void 0:r.type)=="trend"?Ae(["defaultConfig","footer","layout"]):[{title:"\u5E95\u90E8\u8BBE\u7F6E",dataIndex:["defaultConfig","footer","text"],valueType:"textarea",colProps:{span:24}}]}}]}],Wt=function(e){return[{valueType:"group",columns:[{title:"statistic",dataIndex:["defaultConfig","open","statistic"],valueType:"switch",colProps:{span:8}},{title:"chart",dataIndex:["defaultConfig","open","chart"],valueType:"switch",colProps:{span:8}},{title:"footer",dataIndex:["defaultConfig","open","footer"],valueType:"switch",colProps:{span:8}}]},{name:["defaultConfig","sourceDataName"],valueType:"dependency",columns:function(a){var o,n,l,v=a.defaultConfig,y=a.sourceDataName;if(!v)return[];var s=[];if((o=v.open)!==null&&o!==void 0&&o.statistic&&(s=[].concat(J()(s),Ut)),(n=v.open)!==null&&n!==void 0&&n.chart){var j=Le(e);s=[].concat(J()(s),[{valueType:"group",title:"chart\u8BBE\u7F6E",columns:J()(j)}])}return(l=v.open)!==null&&l!==void 0&&l.footer&&(s=[].concat(J()(s),Yt)),s}}]},Kt=Wt,Gt=i(21352),Qt=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["defaultConfig","columns"];return[{valueType:"group",columns:[{title:"\u5217\u8868\u5B57\u6BB5",dataIndex:r,colProps:{span:24},rowProps:{gutter:0},valueType:"formList",columns:[{valueType:"group",columns:[{title:"\u8868\u5355\u9879",dataIndex:"dataIndex",colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"Label",dataIndex:"title",colProps:{span:6},fieldProps:{placeholder:"\u4E0D\u8F93\u5165\u7684\u8BDD\u4F7F\u7528\u540E\u53F0\u6570\u636E"}},{title:"\u7EC4\u4EF6\u7C7B\u578B",dataIndex:"valueType",colProps:{span:6},valueType:"select",fieldProps:{options:Gt.lG}},{title:"fieldProps",dataIndex:"fieldProps",colProps:{span:6},valueType:"modalJson"}]}]}]}]},ze=Qt,Jt=function(e){return[{valueType:"group",columns:[{title:"Table Size",dataIndex:["defaultConfig","size"],colProps:{span:12},valueType:"select",fieldProps:{options:["small","middle","large"]}},{title:"\u5206\u9875",tooltip:"\u8BBE\u7F6E\u4E3A0\u7684\u8BDD\u8868\u793A\u5173\u95ED\u5206\u9875",dataIndex:["defaultConfig","cpage"],colProps:{span:12},valueType:"digit",width:"100%"},{title:"\u5217\u8868\u5B57\u6BB5",dataIndex:["defaultConfig","columns"],colProps:{span:24},rowProps:{gutter:0},valueType:"formList",columns:[{valueType:"group",columns:[{title:"dataIndex",dataIndex:"dataIndex",colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"title",dataIndex:"title",colProps:{span:6}},{title:"width",dataIndex:"width",colProps:{span:6},valueType:"digit"},{title:"\u6392\u5E8F",dataIndex:"sort",valueType:"switch",colProps:{span:6}}]}]}]}]},Xt=Jt,wt={title:"\u914D\u7F6E",valueType:"jsonEditor",dataIndex:"config"},Ae=function(e){return[{title:"\u6392\u5217\u65B9\u5F0F",dataIndex:e,valueType:"select",fieldProps:{options:[{label:"\u6A2A\u5411",value:"horizontal"},{label:"\u7EB5\u5411",value:"vertical"}],defaultValue:"horizontal"},colProps:{span:12}}]},Be=function(e){return{title:"\u5F62\u72B6",dataIndex:["defaultConfig","chart","shapeField"],valueType:"select",fieldProps:{options:[{label:"smooth - \u5E73\u6ED1",value:"smooth"},{label:"trail - \u53D8\u7C97",value:"trail"}]},colProps:{span:e}}},kt=function(e){return[{title:"\u57FA\u7840\u4FE1\u606F",formColumns:[{title:"Title",dataIndex:"title",colProps:{span:12}}]}]},qt=function(e){return[{title:"\u57FA\u7840\u4FE1\u606F",formColumns:[{valueType:"group",columns:[{title:"\u7C7B\u578B",dataIndex:"type",valueType:"select",fieldProps:{options:[{label:"StatisticCard - \u6307\u6807\u5361",value:"StatisticCard"},{label:"tab",value:"tab"},{label:"\u8868\u683C",value:"table"},{label:"\u5BB9\u5668",value:"rows"},{label:"\u67E5\u8BE2\u8868\u5355",value:"form"},{label:"\u4E2A\u4EBA\u4FE1\u606F",value:"user"}]},colProps:{span:24}}]},{valueType:"group",columns:[{title:"Title",dataIndex:"title",colProps:{span:12}},{title:"\u6570\u636E\u6E90",dataIndex:"sourceDataName",valueType:"select",fieldProps:{options:(0,de.H1)(e)?e:[],showSearch:!0},colProps:{span:12}}]},{name:["type","sourceDataName"],valueType:"dependency",columns:function(a){var o=a.type,n=a.sourceDataName;return o=="chart"?Le(e==null?void 0:e.find(function(l){return l.value==n})):o=="table"?Xt(e==null?void 0:e.find(function(l){return l.value==n})):o=="StatisticCard"?Kt(e==null?void 0:e.find(function(l){return l.value==n})):o=="form"?ze(e==null?void 0:e.find(function(l){return l.value==n})):o=="tab"?ze(e==null?void 0:e.find(function(l){return l.value==n}),["defaultConfig","form","columns"]):[]}}]},{title:"\u914D\u7F6E",formColumns:[{valueType:"group",columns:[{title:"\u5217\u5BBD",dataIndex:"customer_span",valueType:"digit",width:"100%",colProps:{span:12}},{title:"\u81EA\u5B9A\u4E49\u9AD8\u5EA6",dataIndex:"height",valueType:"digit",width:"100%",colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u663E\u793A\u6761\u4EF6",dataIndex:"show_condition",tooltip:"\u53EF\u6839\u636E\u5F53\u524D\u7528\u6237\u7F16\u5199\u662F\u5426\u663E\u793A\u8BE5\u7EC4\u4EF6,\u4F8B\u5982 {{ user.id == 1?true:false }} user\u4E3A\u5F53\u524D\u767B\u5F55\u7528\u6237\u4FE1\u606F",valueType:"textarea",colProps:{span:24}}]},wt]}]},_t=qt,He,ea=(0,Tt.iv)(He||(He=ht()([`
  & .ant-space-item .anticon {
    margin: 0;
  }

  &:hover {
    display: block !important;
  }
`]))),ee=function(e){var r=e.title,a=e.uid,o=e.data,n=e.type,l=n===void 0?"col":n,v=e.extpost,y=(0,F.useContext)(W.x),s=y.tableDesigner,j=s.pageMenu,I=s.reflush,b=s.editUrl,m=s.sourceData,x=(0,F.useContext)(Me.r),g=x.setting,c=(0,F.useContext)(se.YF),p=c.setVisible,T=(0,F.useState)({}),u=A()(T,2),d=u[0],D=u[1];return(0,F.useEffect)(function(){D(o)},[j,o]),(0,t.jsx)("div",{onClick:function(S){S.preventDefault()},children:(0,t.jsx)(St.Z,{trigger:(0,t.jsx)("div",{style:{width:"100%"},onClick:function(S){p==null||p(!1)},children:r}),tabs:l=="col"?_t(m):kt(m),value:d,postUrl:b,data:f()({id:j==null?void 0:j.id,uid:a},v),callback:function(S){var Z=S.data;return I(Z),!0},saFormProps:{devEnable:!1}})})},G=function(e){var r=e.title,a=e.uid,o=e.devData,n=e.col,l=e.row,v=e.otitle,y=e.style,s=o.itemType,j=s===void 0?"row":s,I=(0,F.useContext)(W.x),b=I.tableDesigner.devEnable,m=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return{label:(0,t.jsx)(ee,{title:(0,t.jsxs)(U.Z,{children:[d==0?(0,t.jsx)(Ie.Z,{}):(0,t.jsx)(Ze.Z,{}),(0,t.jsx)("span",{children:d==0?"\u63D2\u5165\u5217":"\u5411\u540E\u6DFB\u52A0\u5217"})]}),uid:a,extpost:{actionType:d==0?"insertCol":"addCol"}}),key:"addCol"+d}},x=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return{label:(0,t.jsx)(ee,{title:(0,t.jsxs)(U.Z,{children:[d==0?(0,t.jsx)(Ie.Z,{}):(0,t.jsx)(Ze.Z,{}),(0,t.jsx)("span",{children:d==0?"\u63D2\u5165\u884C":"\u5411\u540E\u6DFB\u52A0\u884C"})]}),uid:a,type:"row",extpost:{actionType:d==0?"insertRow":"addRow"}}),key:"addRow"+d}},g={label:(0,t.jsx)(ee,{title:(0,t.jsxs)(U.Z,{children:[(0,t.jsx)(Ee.Z,{}),(0,t.jsx)("span",{children:"\u7F16\u8F91"})]}),uid:a,data:l,type:"row",extpost:{actionType:"editRow"}}),key:"editRow"},c={label:(0,t.jsx)(ee,{title:(0,t.jsxs)(U.Z,{children:[(0,t.jsx)(Ee.Z,{}),(0,t.jsx)("span",{children:"\u7F16\u8F91"})]}),uid:a,data:n,type:"col",extpost:{actionType:"editCol"}}),key:"editCol"},p=function(d){return{label:(0,t.jsx)(Ne.VV,{title:(0,t.jsxs)(U.Z,{children:[(0,t.jsx)(yt.Z,{}),(0,t.jsx)("span",{children:"\u5220\u9664"})]}),uid:a,extpost:{actionType:d=="col"?"deleteCol":"deleteRow"}}),key:"deleteItem",danger:!0}},T=j=="row"?[g,m(0),{type:"divider"},x(1),{type:"divider"},p("row")]:[c,x(0),{type:"divider"},m(1),{type:"divider"},p("col")];return b?(0,t.jsxs)(Re.TR,{className:Ne.mJ,id:a,eid:a,devData:f()({type:"panel"},o),style:y,children:[(0,t.jsx)("div",{className:bt()("general-schema-designer",ea),children:(0,t.jsx)("div",{className:"general-schema-designer-icons",children:(0,t.jsxs)(U.Z,{size:3,align:"center",children:[(0,t.jsx)(Re.IW,{children:(0,t.jsx)(Ct.Z,{role:"button","aria-label":"drag-handler"})}),(0,t.jsx)(se.cM,{title:(0,t.jsx)(jt.Z,{role:"button",style:{cursor:"pointer"}}),items:T})]})})}),(0,t.jsx)("div",{role:"button",children:r})]}):v?(0,t.jsx)(t.Fragment,{children:v}):null},ta=["columns"],aa=function(e){var r=e.config,a=e.data,o=e.title,n=e.uid,l=r.columns,v=te()(r,ta),y=(0,B.useModel)("@@initialState"),s=y.initialState,j=(0,F.useContext)(W.x),I=j.tableDesigner.devEnable,b=I?(0,t.jsx)(G,{otitle:null,uid:n,col:e,devData:{itemType:"col"},title:(o||"Table")+" - "+n}):o||!1;return(0,t.jsx)(V.Z,{style:{height:"100%"},title:b,children:(0,t.jsx)(je.Z,f()({columns:(0,Se.S)({initRequest:!0,columns:l,initialState:s,devEnable:!1}),dataSource:a==null?void 0:a.data,rowKey:"id"},v))})},la=aa,na=["url","pageMenu","path"],ia=function(e){var r=e.span,a=e.title,o=e.uid,n=e.rows,l=e.data,v=e.config,y=e.sourceDataName,s=e.chart,j=e.noTitle,I=j===void 0?!1:j,b=e.height,m=e.type,x=e.getData,g=e.show_condition,c=l==null?void 0:l.find(function(Z){return Z.value==y}),p=(0,F.useContext)(W.x),T=p.tableDesigner.devEnable,u=(0,B.useModel)("@@initialState"),d=u.initialState,D=g&&!T?(0,Y.mF)(g,{user:d==null?void 0:d.currentUser}):!0,P=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return I?null:(0,t.jsx)(G,{otitle:E||a,title:(E||a||"\u5143\u7D20")+" - "+o,uid:o,col:e,devData:{itemType:"col"}})},S=T?P(a):a||!1;return D?(0,t.jsx)(H.Z,{span:r,children:m=="tab"?(0,t.jsx)(oa,f()({},e)):m=="table"?(0,t.jsx)(la,f()(f()({},e),{},{data:c})):n||m=="rows"?(0,t.jsxs)(t.Fragment,{children:[P(),(0,t.jsx)(Ve,{rows:n,data:l})]}):m=="form"?(0,t.jsx)($e,f()(f()({},e),{},{idata:c})):m=="user"?(0,t.jsx)(V.Z,{headStyle:T?{width:"100%",display:"block"}:{},title:T?P():!1,children:(0,t.jsx)(Fe,{flash:x})}):m=="StatisticCard"?(0,t.jsx)(gt,{title:S,data:c==null?void 0:c.data,config:v,height:b}):null}):null},$e=function(e){var r,a=e.config,o=e.idata,n=e.title,l=e.uid,v=e.getData,y=e.simple,s=(0,F.useContext)(W.x),j=s.tableDesigner.devEnable,I=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return(0,t.jsx)(G,{otitle:c||n,title:c||n||"\u5143\u7D20 - "+l,uid:l,col:e,devData:{itemType:"col"}})},b=a==null||(r=a.columns)===null||r===void 0?void 0:r.map(function(g){var c,p=o==null||(c=o.data)===null||c===void 0?void 0:c.find(function(T){return T.name==g.dataIndex});return p&&(g=f()(f()({},g),p.props)),g}),m=(0,be.ab)({initRequest:!0,columns:b,devEnable:!1}),x=(0,t.jsx)(pe.Z,{layoutType:y?"LightFilter":"QueryFilter",columns:m,rowProps:{gutter:[16,16]},colProps:{span:12},grid:!1,initialValues:o==null?void 0:o.initialValues,onFinish:function(c){v==null||v(c)}});return y?x:(0,t.jsx)(V.Z,{bodyStyle:{padding:0},title:j?I():!1,children:x})},oa=function(e){var r=e.uid,a=e.rows,o=e.data,n=e.getData,l=e.config,v=e.sourceDataName,y=e.height,s=(0,F.useContext)(W.x),j=s.tableDesigner.devEnable,I=o==null?void 0:o.find(function(m){return m.value==v}),b=l.form?(0,t.jsx)($e,{simple:!0,idata:I,config:l.form,getData:n}):null;return(0,t.jsx)(V.Z,{style:{borderTopRightRadius:0,borderTopLeftRadius:0},title:j?(0,t.jsx)(G,{uid:r,col:e,devData:{itemType:"col"},title:"Tab - "+r,otitle:null}):!1,children:(0,t.jsx)(me.Z,{style:{background:"none"},tabBarExtraContent:b?{right:b}:null,destroyInactiveTabPane:!0,items:a==null?void 0:a.map(function(m,x){return{key:x,label:(0,t.jsx)(G,{title:m!=null&&m.title?m==null?void 0:m.title:"tabItem",otitle:m==null?void 0:m.title,uid:m==null?void 0:m.uid,row:m,devData:{itemType:"row"}}),children:(0,t.jsx)(Oe,{index:x,row:m,data:o,noTitle:!0},x)}})})})},Oe=function(e){var r,a=e.row,o=e.data,n=e.noTitle,l=n===void 0?!1:n,v=e.index,y=e.getData;return(0,t.jsxs)(K.Z,{gutter:[16,16],style:{marginTop:-16},children:[l?null:(0,t.jsx)(H.Z,{span:24,children:(0,t.jsx)(G,{span:24,otitle:null,title:a!=null&&a.title?a==null?void 0:a.title:"\u5206\u7EC4 - "+(a==null?void 0:a.uid),uid:a==null?void 0:a.uid,devData:{itemType:"row"},row:a})},"row"),a==null||(r=a.cols)===null||r===void 0?void 0:r.map(function(s,j){return(0,F.createElement)(ia,f()(f()({},s),{},{key:j,data:o,getData:y}))})]})},ra=function(e){var r,a,o,n=e.url,l=n===void 0?"":n,v=e.pageMenu,y=e.path,s=te()(e,na),j=(0,F.useState)(),I=A()(j,2),b=I[0],m=I[1],x=(0,F.useState)(),g=A()(x,2),c=g[0],p=g[1],T=(0,F.useContext)(Me.r),u=T.messageApi,d=function(){var M=fe()(w()().mark(function O(){var ue,Ue,Ye,ve=arguments;return w()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return ue=ve.length>0&&ve[0]!==void 0?ve[0]:{},u==null||u.loading({content:"\u52A0\u8F7D\u4E2D...",key:ae.iU,duration:0}),X.next=4,ae.ZP.get(l,{params:f()(f()({},c),ue)});case 4:Ue=X.sent,Ye=Ue.data,u==null||u.destroy(),m(Ye);case 8:case"end":return X.stop()}},O)}));return function(){return M.apply(this,arguments)}}(),D=(0,F.useState)(),P=A()(D,2),S=P[0],Z=P[1],E=(0,B.useModel)("@@initialState"),h=E.initialState,N=(0,F.useState)(!!(!(h!=null&&(r=h.settings)!==null&&r!==void 0&&r.devDisable)&&h!==null&&h!==void 0&&(a=h.settings)!==null&&a!==void 0&&(a=a.adminSetting)!==null&&a!==void 0&&a.dev)),$=A()(N,2),R=$[0],z=$[1];(0,F.useEffect)(function(){var M;Z(v==null||(M=v.data)===null||M===void 0?void 0:M.panel),d()},[]);var L=(0,se.Yx)({pageMenu:v,setColumns:Z,getColumnsRender:function(O){return O},type:"panel",devEnable:R,sourceData:b});return(0,F.useEffect)(function(){var M,O;z(!!(!(h!=null&&(M=h.settings)!==null&&M!==void 0&&M.devDisable)&&h!==null&&h!==void 0&&(O=h.settings)!==null&&O!==void 0&&(O=O.adminSetting)!==null&&O!==void 0&&O.dev))},[h==null||(o=h.settings)===null||o===void 0?void 0:o.devDisable]),(0,t.jsx)(le._z,{title:!1,className:"saContainer",fixedHeader:ie.P.fixedHeader,header:{breadcrumbRender:function(O,ue){return(0,t.jsx)(Y.Lr,{path:y})}},children:(0,t.jsxs)(W.x.Provider,{value:{tableDesigner:L},children:[(0,t.jsx)(ot.L,{children:b&&(0,t.jsx)(Ve,f()(f()({},s),{},{rows:S,data:b,getData:d}))},"content"),!b&&(0,t.jsx)(ge.Z,{paragraph:{rows:10},active:!0}),R?(0,t.jsxs)(U.Z,{style:{marginTop:10},children:[(0,t.jsx)(k.ZP,{type:"dashed",onClick:function(){L.edit({base:{id:v==null?void 0:v.id,actionType:"insertRow"}})},children:"+ Row"},"addrow"),(0,t.jsx)(rt.SE,{trigger:(0,t.jsx)(k.ZP,{type:"dashed",danger:!0,children:(0,t.jsx)(Xe.Z,{})}),pageMenu:v},"devsetting")]}):null]})})},Ve=function(e){var r=e.rows,a=e.data,o=e.getData;return(0,t.jsx)(ne.Z,{vertical:!0,gap:"middle",children:r==null?void 0:r.map(function(n,l){return(0,t.jsx)(Oe,{index:l,row:n,data:a,getData:o},l)})})},sa=ra,da=i(9783),ua=i.n(da),va=i(55208),ca=i(34528),ba=i(21655),fa=function(e){var r=e.tableTitle,a=r===void 0?!1:r,o=e.path,n=e.leftMenu,l=n===void 0?{name:"categorys",url_name:"category_id",title:"\u5206\u7C7B\u9009\u62E9",field:{title:"label",key:"value"}}:n,v=l?l.name:"",y=l?l.title:"",s=l?l.url_name:"",j=l?l.field:!1,I=(0,F.useState)([]),b=A()(I,2),m=b[0],x=b[1],g=(0,B.useSearchParams)(),c=A()(g,2),p=c[0],T=c[1],u=p.get(s),d=(0,F.useState)(u?isNaN(u)?u:parseInt(u):0),D=A()(d,2),P=D[0],S=D[1],Z=(0,F.useState)([]),E=A()(Z,2),h=E[0],N=E[1];return(0,t.jsx)(le._z,{title:a,className:"saContainer",fixedHeader:ie.P.fixedHeader,header:{breadcrumbRender:function(R,z){return(0,t.jsx)(Y.Lr,{path:o})}},children:(0,t.jsxs)(K.Z,{gutter:[24,24],style:m.length>1?{marginLeft:0,marginRight:0}:{},children:[m.length>1&&(0,t.jsxs)(H.Z,{span:3,title:y,style:{background:"#fff",paddingTop:20},children:[(0,t.jsx)(ca.Z,{level:5,children:y}),(0,t.jsx)(va.Z,{selectedKeys:[P],expandedKeys:h,treeData:m,fieldNames:j,onSelect:function(R){var z=0;R.length>0&&(z=R.pop()),S(z);var L=(0,Y.Cc)([s]);z&&(L[s]=z+""),T(f()({},L))},onExpand:function(R){N(R)}})]}),(0,t.jsx)(H.Z,{span:m.length>1?21:24,children:(0,t.jsx)(W.Z,f()(f()({},e),{},{paramExtra:P?f()(f()({},e.paramExtra),{},ua()({},s,P)):f()({},e.paramExtra),beforeTableGet:function(R){var z;if(l&&!(m.length>0||!((z=R.search)!==null&&z!==void 0&&z[v]))&&(x(J()(R.search[v])),P&&h.length<1)){var L=(0,Y.aT)(R.search[v],P,{id:"value",children:"children"});console.log(L,111),N(L)}}}))})]})})},pa=fa,ma=i(32250),ga=i(72644),xa=i(83832),ha=i(45821),ya=function(){return(0,t.jsx)(ha.ZP,{status:"403",title:"403",subTitle:"\u4F60\u6CA1\u6709\u6B64\u9875\u9762\u7684\u8BBF\u95EE\u6743\u9650",extra:(0,t.jsx)(k.ZP,{type:"primary",onClick:function(){return B.history.push("/")},children:"\u8FD4\u56DE\u5DE5\u4F5C\u53F0"})})},Ca=function(){var e,r=(0,B.useLocation)(),a=r.pathname,o=a.match(/\/(\d+)$/);o&&(a=r.pathname.replace(o[0],""));var n=(0,Y.Sj)(a);return n?((0,F.useEffect)(function(){var l;if((l=n.data)!==null&&l!==void 0&&l.redirect){var v;B.history.push((v=n.data)===null||v===void 0?void 0:v.redirect)}},[n]),(0,t.jsx)(t.Fragment,{children:(e=n.data)!==null&&e!==void 0&&e.redirect?(0,t.jsx)(xa.S,{}):(0,t.jsx)(ja,{menu:n,match:o,pathname:a})})):(0,t.jsx)(ya,{})},ja=function(e){var r=e.menu,a=e.match,o=e.pathname,n=r.data,l=r.page_type,v=r.name;if(a||l=="form"){var y=n.postUrl||n.url?(n.postUrl?n.postUrl:n.url+"/show")+(a?"?id="+(a==null?void 0:a[1]):""):"";return(0,t.jsx)(ga.Z,f()(f()({formTitle:!1,pageMenu:r},n),{},{msgcls:function(j){var I=j.code;n.noBack||I||l!="form"&&B.history.back()},url:y,match:!!a,dataId:a?a==null?void 0:a[1]:0}),o)}else switch(l){case"category":return(0,t.jsx)(ma.Z,f()(f()({pageMenu:r,path:o,name:v},n),{},{tableTitle:!1}),o);case"table":case"justTable":return(0,t.jsx)(pa,f()(f()({path:o,name:v,pageMenu:r},n),{},{tableTitle:!1}),o);case"panel":return(0,t.jsx)(it,f()(f()({pageMenu:r},n),{},{path:o}));case"panel2":return(0,t.jsx)(sa,f()(f()({pageMenu:r},n),{},{path:o}));default:return null}},Ta=Ca}}]);
