"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[132],{20833:function(A,p,e){e.r(p);var E=e(15009),o=e.n(E),f=e(97857),s=e.n(f),h=e(99289),c=e.n(h),I=e(65302),T=e(70145),m=e(19179),y=e(72644),v=e(74700),r=e(33067),M=e(7837),b=e(14726),D=e(67294),u=e(85893);p.default=function(){var P=(0,M.useModel)("@@initialState"),i=P.initialState,x=P.setInitialState,O=(0,D.useContext)(T.r),_=O.setSetting,C=function(){var l=c()(o()().mark(function a(){var t,d;return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return m.yw.loading({key:r.iU,content:"loading..."}),n.next=3,(0,r.ar)();case 3:return t=n.sent,n.next=6,(0,v.A)(!0);case 6:return d=n.sent,n.next=9,r.ZP.get("dev/menu/clearCache");case 9:return x(function(j){return s()(s()({},j),{},{settings:d})}).then(function(){_==null||_(s()(s()({},i==null?void 0:i.settings),d)),m.yw.success({key:r.iU,content:"\u5237\u65B0\u6210\u529F"})}),n.abrupt("return",t.data);case 11:case"end":return n.stop()}},a)}));return function(){return l.apply(this,arguments)}}();return(0,u.jsx)(y.Z,{url:"dev/setting",formTitle:!1,devEnable:!1,tabsProps:{tabBarExtraContent:(0,u.jsx)(b.ZP,{type:"text",children:(0,u.jsx)(v.Z,{},"refresh")})},tabs:[{title:"\u57FA\u7840\u914D\u7F6E",formColumns:[{title:"\u7CFB\u7EDF\u540D\u79F0",dataIndex:"title"},{title:"\u6280\u672F\u652F\u6301",dataIndex:"tech"},{valueType:"group",columns:[{title:"\u5B50\u6807\u9898",dataIndex:"subtitle",colProps:{span:12}},{title:"\u540E\u53F0\u524D\u7F00",dataIndex:"baseurl",colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u6C34\u5370\u8BBE\u7F6E",dataIndex:"watermark",tooltip:"1.username\u8868\u793A\u540E\u53F0\u7528\u6237\u540D",colProps:{span:12}},{title:"\u817E\u8BAF\u5730\u56FEkey",dataIndex:"tmap_key",colProps:{span:12}}]},{valueType:"group",columns:[{title:"logo",valueType:"uploader",dataIndex:"logo",colProps:{span:12}},{title:"favicons",tooltip:"\u81EA\u884C\u8986\u76D6\u76EE\u5F55\u4E0B\u7684favicon.ico \u6587\u4EF6",readonly:!0,dataIndex:"favicons",colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u5F00\u53D1\u6A21\u5F0F",valueType:"switch",dataIndex:"dev",fieldProps:{defaultChecked:!0},colProps:{span:8}},{title:"\u591A\u8BED\u8A00",valueType:"switch",dataIndex:"lang",fieldProps:{defaultChecked:!0},colProps:{span:8}},{title:"\u5206\u5272\u83DC\u5355 - \u9876\u90E8\u663E\u793A\u5927\u83DC\u5355",valueType:"switch",dataIndex:"splitMenus",colProps:{span:8},fieldProps:{defaultChecked:!0}}]},{valueType:"group",title:"\u77ED\u4FE1\u8BBE\u7F6E",columns:[{title:"\u77ED\u4FE1\u5E73\u53F0",valueType:"select",dataIndex:"sms_type",fieldProps:{options:[{label:"\u963F\u91CC\u4E91",value:"aliyun"}]},colProps:{span:8}},{title:"\u9A8C\u8BC1\u7801\u6A21\u677Fid",dataIndex:"sms_code_id",colProps:{span:8}},{title:"\u6A21\u677F\u540D\u79F0",dataIndex:"sms_name",colProps:{span:8}}]}]},{title:"\u4E3B\u9898\u914D\u7F6E",formColumns:[{valueType:"group",columns:[{valueType:"switch",title:"\u81EA\u52A8\u6697\u9ED1\u6A21\u5F0F",dataIndex:"theme_auto_dark",fieldProps:{defaultChecked:!1},colProps:{span:12}},{valueType:"dependency",name:["theme_auto_dark"],columns:function(a){var t=a.theme_auto_dark;return t?[{title:"\u767D\u5929\u65F6\u95F4\u6BB5",valueType:"timeRange",dataIndex:"theme_auto_light_time_range",fieldProps:{minuteStep:15,secondStep:10},colProps:{span:12}}]:[]}}]},{title:"Antd\u4E3B\u9898\u914D\u7F6E",dataIndex:"theme",valueType:"jsonEditor"}]},{title:"\u767B\u5F55\u8BBE\u7F6E",formColumns:[{valueType:"group",columns:[{title:"\u767B\u5F55\u9875\u80CC\u666F\u56FE",valueType:"uploader",dataIndex:"loginBgImgage",colProps:{span:24}}]},{valueType:"group",columns:[{title:"\u767B\u5F55\u65B9\u5F0F",valueType:"checkbox",dataIndex:"loginType",fieldProps:{options:[{label:"\u8D26\u53F7\u5BC6\u7801",value:"password"},{label:"\u624B\u673A\u53F7\u767B\u5F55",value:"phone"}]},colProps:{span:12}},{title:"\u9ED8\u8BA4\u767B\u5F55\u65B9\u5F0F",valueType:"radio",dataIndex:"loginTypeDefault",fieldProps:{options:[{label:"\u8D26\u53F7\u5BC6\u7801",value:"password"},{label:"\u624B\u673A\u53F7\u767B\u5F55",value:"phone"}]},colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u5176\u5B83\u767B\u5F55\u65B9\u5F0F",valueType:"checkbox",dataIndex:"loginActions",fieldProps:{options:[{label:"\u5FAE\u4FE1\u516C\u4F17\u53F7",value:"wechat"}]},colProps:{span:12}},{title:"\u663E\u793A\u9A8C\u8BC1\u7801\u767B\u5F55\u9519\u8BEF\u6B21\u6570",dataIndex:"login_error_times",tooltip:"\u767B\u5F55\u5931\u8D25\u8BE5\u6B21\u6570\u540E\u5C55\u793A\u56FE\u5F62\u9A8C\u8BC1\u7801\u8F93\u5165\u6846\uFF0C\u9ED8\u8BA4\u6570\u5B57\u4E3A3\u6B21",colProps:{span:12}}]},{valueType:"dependency",name:["loginActions"],columns:function(a){var t=a.loginActions;return t&&(0,I.d3)("wechat",t)>-1?[{valueType:"group",columns:[{title:"\u4E8C\u7EF4\u7801\u5730\u5740",dataIndex:["loginWechat","url"],colProps:{span:12}},{title:"\u63CF\u8FF0\u6587\u5B57",dataIndex:["loginWechat","desc"],colProps:{span:12}}]}]:[]}}]},{title:"Socket\u914D\u7F6E",formColumns:[{title:"\u662F\u5426\u5F00\u542F",dataIndex:["socket","open"],valueType:"switch"},{valueType:"dependency",name:[["socket","open"]],columns:function(a){var t=a.socket;return t!=null&&t.open?[{title:"\u8FDE\u63A5\u5730\u5740",dataIndex:["socket","url"]},{valueType:"group",columns:[{title:"\u5F00\u542Fping",dataIndex:["socket","ping"],valueType:"switch"},{valueType:"dependency",name:[["socket","ping"]],columns:function(g){var n=g.socket;return n!=null&&n.ping?[{title:"\u65F6\u95F4\u95F4\u9694",dataIndex:["socket","pingInterval"],valueType:"digit",colProps:{span:12},fieldProps:{addonAfter:"\u79D2"},formItemProps:{rules:[{required:!0}]},width:"100%"},{title:"ping\u4FE1\u606F",dataIndex:["socket","pingData"],colProps:{span:12},formItemProps:{rules:[{required:!0}]}}]:[]}}]}]:[]}}]}],msgcls:c()(o()().mark(function l(){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:return t.abrupt("return");case 3:case"end":return t.stop()}},l)}))})}}}]);
