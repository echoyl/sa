"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[587,35],{19048:function(Kt,k,n){n.r(k),n.d(k,{default:function(){return Yt}});var Ce=n(15009),q=n.n(Ce),Te=n(99289),Pe=n.n(Te),je=n(5574),w=n.n(je),be=n(13769),V=n.n(be),Ie=n(97857),m=n.n(Ie),_=n(97584),De=n(43425),B=n(38345),Fe=n(99956),L=n(52715),ee=n(15746),Se=n(48096),Ze=n(71230),Re=n(48054),$=n(42075),te=n(83622),Ee=n(86250),I=n(67294),Me=n(58584),$e=n(53463),Ne=n(89649),A=n(10936),Ae=n(55647),G=n(47666),ze=n(14056),Y=n(65302),we=n(96604),Oe=n(6466),Ve=n(96074),Be=n(38703),Le=n(63430),Ue=n(79611),We=n(78677),He=n(86781),J=function(){return J=Object.assign||function(x){for(var e,r=1,l=arguments.length;r<l;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(x[a]=e[a])}return x},J.apply(this,arguments)},Ge=(0,I.forwardRef)(function(x,e){return I.createElement(He.P,J({},x,{chartType:"Area",ref:e}))}),Ye=Ge,Je=n(80652),le=n(96486),Ke=n(92077),K=n.n(Ke),Qe=n(65898),Xe=n(29393),t=n(85893),ke=["type","data","config","propsx"],qe=["label"],_e=function(e){var r,l=e.type,a=e.data,s=e.config,u=e.propsx,o=V()(e,ke),c=(0,le.cloneDeep)(s),i=function(b){var Z;return o==null||(Z=o.fields)===null||Z===void 0?void 0:Z.find(function(R){return(R==null?void 0:R.value)==b})};delete c.type;var y=function(b){for(var Z=/{{\s*([^{}]*)\s*}}/g,R=[],C;(C=Z.exec(b))!==null;)R.push(C[1].trim());return R},F={};if((r=c.label)!==null&&r!==void 0&&r.text){var P=y(c.label.text);try{F.labelText=function(d){return new Function("$root","with($root) { return (".concat(P,"); }"))({d})}}catch(d){console.log("exp error",P)}}if(l=="pie"){var v=c.colorField,D=c.angleField,S=(0,le.sum)(a.map(function(d){return d[D]}));return(0,t.jsx)(Le.Z,m()({appendPadding:10,data:a,label:{position:"outside",text:function(b){return"".concat(b[v],": ").concat(K()(b[D]).format("0,0"))},transform:[{type:"overlapDodgeY"}]},tooltip:function(b,Z,R,C){return{value:"".concat(b[v],": ").concat(K()(b[D]).format("0,0"))}},annotations:[{type:"text",style:{text:`\u603B\u8BA1
`.concat(K()(S).format("0,0")),x:"50%",y:"50%",textAlign:"center",fontSize:18}}],interactions:[{type:"element-active"}],radius:.9,innerRadius:.6,legend:{color:{maxCols:1,maxRows:1,position:"top"}}},c))}else{if(l=="bar")return(0,t.jsx)(Ue.Z,m()({data:a,scale:{x:{paddingInner:.4}}},c));if(l=="column"){var j=c.xField,g=c.yField,f=i(g),h=c.label,p=V()(c,qe);return(0,t.jsx)(We.Z,m()({data:a,scale:{x:{paddingInner:.4}},label:m()(m()({textBaseline:"bottom"},h),{},{text:F.labelText?F.labelText:function(d){return d==null?void 0:d[g]}}),style:{radiusTopLeft:10,radiusTopRight:10},tooltip:{name:f==null?void 0:f.label,field:g}},p))}else{if(l=="area")return(0,t.jsx)(Ye,m()({data:a},c));if(l=="mapDots")return(0,t.jsx)(Xe.rq,m()(m()(m()({},c),u),{},{dots:(0,Y.H1)(a)?a:[]}));if(l=="areaMap"){var T=m()({map:{style:"blank",center:[120.19382669582967,30.258134],zoom:13,pitch:0},source:{data:a,parser:{type:"geojson"}},autoFit:!0,color:{field:c.field,value:["#1A4397","#3165D1","#6296FE","#98B7F7","#DDE6F7","#F2F5FC"].reverse(),scale:{type:"quantile"}},style:{opacity:1,stroke:"#eee",lineWidth:.8,lineOpacity:1},state:{active:!0,select:{stroke:"blue",lineWidth:1.5,lineOpacity:.8}},label:{visible:!0,field:"name",style:{fill:"black",opacity:.5,fontSize:12,spacing:1,padding:[15,15]}},zoom:{position:"bottomright"},legend:{position:"bottomleft"}},c);return(0,t.jsx)(Qe.Z,{config:T,data:a})}else return(0,t.jsx)(Je.Z,m()({data:a},c))}}},et=_e,tt=function(e){var r,l,a=e.title,s=e.data,u=e.config,o=u===void 0?{}:u,c=e.height,i=e.label,y=o.open,F=function(g,f){var h=g!=null&&g.href?g.href:f!=null&&f.href?f.href:null;if(h){var p,T;return(0,t.jsx)(L.Link,{to:h,style:{fontSize:12},children:(p=g.statistic)!==null&&p!==void 0&&p.description?(T=g.statistic)===null||T===void 0?void 0:T.description:"\u67E5\u770B"})}else{var d;return(d=g.statistic)===null||d===void 0?void 0:d.description}},P=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"horizontal",h=g.map(function(p,T){return(0,t.jsx)(we.Z,m()({},p),T)});return f=="vertical"?h:(0,t.jsx)($.Z,{children:h})},v=function(g,f){var h,p=g.footer||{type:"text"};if(!((h=g.open)!==null&&h!==void 0&&h.footer))return null;var T;if(p.type=="trend"){if(!f.trend)return null;T=P(f.trend,p==null?void 0:p.layout)}else{var d=f.footer?f.footer:p.text;if(!d)return null;T=d}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Ve.Z,{style:{marginTop:-16,marginBottom:10}}),T]})},D=y!=null&&y.statistic?m()(m()({},o==null?void 0:o.statistic),{},{value:(0,Y.BP)(s)?s==null?void 0:s.value:s,description:F(o,s),title:o!=null&&(r=o.statistic)!==null&&r!==void 0&&r.title?o==null||(l=o.statistic)===null||l===void 0?void 0:l.title:i}):!1,S=function(g,f){var h=g.chart,p=h===void 0?{}:h,T=g.open,d=p.type,b=d===void 0?"":d;if(!(T!=null&&T.chart)||!b)return null;var Z=p!=null&&p.height?{height:p==null?void 0:p.height,lineHeight:(p==null?void 0:p.height)+"px"}:{};if(b=="trend"){var R;return(0,t.jsx)("div",{style:Z,children:P(f.trend,(R=g.chart)===null||R===void 0||(R=R.trend)===null||R===void 0?void 0:R.layout)})}else if(b=="progress"){var C;return(0,t.jsx)("div",{style:Z,children:(C=f.progress)===null||C===void 0?void 0:C.map(function(N,H){return(0,t.jsx)(Be.Z,m()({},N),H)})})}else return(0,t.jsx)(et,m()(m()({},f==null?void 0:f.chart),{},{config:p,type:b}));return null};return(0,t.jsx)(Oe.Z,{footer:v(o,s),style:{height:c||"100%"},title:a,statistic:D,chart:S(o,s)})},lt=tt,at=n(17003),nt=n(53110),ae=n(51042),ne=n(52108),ie=n(47389),it=n(26706),ot=n(53682),rt=n(93967),st=n.n(rt),Q=n(70145),ut=n(61723),oe=n(75686),re=n(42586),dt=n(19632),U=n.n(dt),vt=function(e){return[{valueType:"group",columns:[{title:"x\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","xField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"y\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","yField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},ve(6)]}]},ct=vt,ft=function(e){return[{valueType:"group",columns:[{title:"\u5B57\u6BB5",dataIndex:["defaultConfig","chart","field"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"\u533A\u95F4\u503Cmin",dataIndex:["defaultConfig","chart","domain_min"],colProps:{span:6},valueType:"digit",width:"100%"},{title:"\u533A\u95F4\u503Cmax",dataIndex:["defaultConfig","chart","domain_max"],colProps:{span:6},valueType:"digit",width:"100%"}]}]},pt=ft,gt=function(e){return[{valueType:"group",columns:[{title:"x\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","xField"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"y\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","yField"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}}]}]},mt=gt,xt=function(e){return[{valueType:"group",columns:[{title:"x\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","xField"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"y\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","yField"],colProps:{span:12},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}}]}]},ht=xt,yt=function(e){return[{valueType:"group",columns:[{title:"x\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","xField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"y\u8F74\u5B57\u6BB5",dataIndex:["defaultConfig","chart","yField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"\u5206\u7EC4\u5B57\u6BB5",tooltip:"\u591A\u6761\u7EBF\u53EF\u4F7F\u7528\u8BE5\u53C2\u6570",dataIndex:["defaultConfig","chart","colorField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},ve(6)]}]},Ct=yt,Tt=function(e){return[{valueType:"group",columns:[{title:"\u7F29\u653E\u7EA7\u522B",dataIndex:["defaultConfig","chart","zoom"],colProps:{span:12},valueType:"digit",width:"100%"},{title:"\u4E2D\u5FC3\u70B9lat",dataIndex:["defaultConfig","chart","lat"],colProps:{span:6},valueType:"digit",width:"100%"},{title:"\u4E2D\u5FC3\u70B9lng",dataIndex:["defaultConfig","chart","lng"],colProps:{span:6},valueType:"digit",width:"100%"}]}]},Pt=Tt,jt=function(e){return[{valueType:"group",columns:[{title:"\u89D2\u5EA6\u6620\u5C04\u5B57\u6BB5",dataIndex:["defaultConfig","chart","angleField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"\u989C\u8272\u6620\u5C04\u5B57\u6BB5",dataIndex:["defaultConfig","chart","colorField"],colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"\u997C\u56FE\u534A\u5F84",dataIndex:["defaultConfig","chart","radius"],valueType:"digit",colProps:{span:6},width:"100%",fieldProps:{min:.1,max:1,step:.1,defaultValue:.9}},{title:"\u997C\u56FE\u5185\u534A\u5F84",dataIndex:["defaultConfig","chart","innerRadius"],valueType:"digit",colProps:{span:6},width:"100%",fieldProps:{min:.1,max:1,step:.1,defaultValue:.6}}]}]},bt=jt,It=function(e){var r,l,a=e!=null&&(r=e.data)!==null&&r!==void 0&&r.chart?e==null||(l=e.data)===null||l===void 0?void 0:l.chart:e;return[{title:"\u56FE\u8868\u7C7B\u578B",dataIndex:["defaultConfig","chart","type"],valueType:"select",fieldProps:{options:[{label:"\u997C\u56FE",value:"pie"},{label:"\u6298\u7EBF\u56FE",value:"line"},{label:"\u67F1\u5F62\u56FE",value:"column"},{label:"\u6761\u5F62\u56FE",value:"bar"},{label:"\u533A\u57DF\u56FE",value:"area"},{label:"\u533A\u57DF\u5730\u56FE",value:"areaMap"},{label:"\u8D8B\u52BF",value:"trend"},{label:"\u8FDB\u5EA6\u6761",value:"progress"},{label:"\u6807\u70B9\u5730\u56FE",value:"mapDots"}]},colProps:{span:12}},{title:"\u9AD8\u5EA6",dataIndex:["defaultConfig","chart","height"],valueType:"digit",width:"100%",colProps:{span:12}},{name:[["defaultConfig","chart","type"]],valueType:"dependency",columns:function(u){var o=u.defaultConfig;if(!o)return[];var c=o.chart,i=c===void 0?{}:c;return(i==null?void 0:i.type)=="pie"?bt(a):(i==null?void 0:i.type)=="line"?Ct(a):(i==null?void 0:i.type)=="area"?ct(a):(i==null?void 0:i.type)=="column"?ht(a):(i==null?void 0:i.type)=="bar"?mt(a):(i==null?void 0:i.type)=="areaMap"?pt(a):(i==null?void 0:i.type)=="trend"?de(["defaultConfig","chart","trend","layout"]):(i==null?void 0:i.type)=="mapDots"?Pt(a):[]}}]},se=It,Dt=[{valueType:"group",title:"statistic\u8BBE\u7F6E",columns:[{title:"\u6807\u9898",dataIndex:["defaultConfig","statistic","title"],colProps:{span:6}},{title:"\u63D0\u793A",dataIndex:["defaultConfig","statistic","tip"],colProps:{span:6}},{title:"\u524D\u7F00",dataIndex:["defaultConfig","statistic","prefix"],colProps:{span:6}},{title:"\u540E\u7F00",dataIndex:["defaultConfig","statistic","suffix"],colProps:{span:6}}]},{valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:["defaultConfig","statistic","status"],valueType:"select",fieldProps:{options:[{label:"success",value:"success"},{label:"processing",value:"processing"},{label:"default",value:"default"},{label:"error",value:"error"},{label:"warning",value:"warning"}]},colProps:{span:12}},{title:"\u94FE\u63A5",dataIndex:["defaultConfig","href"],colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u63CF\u8FF0",dataIndex:["defaultConfig","statistic","description"],valueType:"textarea",colProps:{span:24}}]}],Ft=[{valueType:"group",title:"footer\u8BBE\u7F6E",columns:[{title:"\u7C7B\u578B",dataIndex:["defaultConfig","footer","type"],valueType:"select",tooltip:"\u5982\u679C\u7C7B\u578B\u662F\u8D8B\u52BF\uFF0C\u6240\u9009\u6570\u636E\u5E94\u8BE5\u8FD4\u56DE\u6709trend:[{title,value,trend}]\u683C\u5F0F\u6570\u636E",fieldProps:{options:[{label:"\u6587\u672C",value:"text"},{label:"\u8D8B\u52BF",value:"trend"}],defaultValue:"text"},colProps:{span:12}},{name:[["defaultConfig","footer","type"]],valueType:"dependency",columns:function(e){var r,l=e.defaultConfig;return(l==null||(r=l.footer)===null||r===void 0?void 0:r.type)=="trend"?de(["defaultConfig","footer","layout"]):[{title:"\u5E95\u90E8\u8BBE\u7F6E",dataIndex:["defaultConfig","footer","text"],valueType:"textarea",colProps:{span:24}}]}}]}],St=function(e){return[{valueType:"group",columns:[{title:"statistic",dataIndex:["defaultConfig","open","statistic"],valueType:"switch",colProps:{span:8}},{title:"chart",dataIndex:["defaultConfig","open","chart"],valueType:"switch",colProps:{span:8}},{title:"footer",dataIndex:["defaultConfig","open","footer"],valueType:"switch",colProps:{span:8}}]},{name:["defaultConfig","sourceDataName"],valueType:"dependency",columns:function(l){var a,s,u,o=l.defaultConfig,c=l.sourceDataName;if(!o)return[];var i=[];if((a=o.open)!==null&&a!==void 0&&a.statistic&&(i=[].concat(U()(i),Dt)),(s=o.open)!==null&&s!==void 0&&s.chart){var y=se(e);i=[].concat(U()(i),[{valueType:"group",title:"chart\u8BBE\u7F6E",columns:U()(y)}])}return(u=o.open)!==null&&u!==void 0&&u.footer&&(i=[].concat(U()(i),Ft)),i}}]},Zt=St,Rt=n(21352),Et=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["defaultConfig","columns"];return[{valueType:"group",columns:[{title:"\u5217\u8868\u5B57\u6BB5",dataIndex:r,colProps:{span:24},rowProps:{gutter:0},valueType:"formList",columns:[{valueType:"group",columns:[{title:"\u8868\u5355\u9879",dataIndex:"dataIndex",colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"Label",dataIndex:"title",colProps:{span:6},fieldProps:{placeholder:"\u4E0D\u8F93\u5165\u7684\u8BDD\u4F7F\u7528\u540E\u53F0\u6570\u636E"}},{title:"\u7EC4\u4EF6\u7C7B\u578B",dataIndex:"valueType",colProps:{span:6},valueType:"select",fieldProps:{options:Rt.lG}},{title:"fieldProps",dataIndex:"fieldProps",colProps:{span:6},valueType:"modalJson"}]}]}]}]},ue=Et,Mt=function(e){return[{valueType:"group",columns:[{title:"Table Size",dataIndex:["defaultConfig","size"],colProps:{span:12},valueType:"select",fieldProps:{options:["small","middle","large"]}},{title:"\u5206\u9875",tooltip:"\u8BBE\u7F6E\u4E3A0\u7684\u8BDD\u8868\u793A\u5173\u95ED\u5206\u9875",dataIndex:["defaultConfig","cpage"],colProps:{span:12},valueType:"digit",width:"100%"},{title:"\u5217\u8868\u5B57\u6BB5",dataIndex:["defaultConfig","columns"],colProps:{span:24},rowProps:{gutter:0},valueType:"formList",columns:[{valueType:"group",columns:[{title:"dataIndex",dataIndex:"dataIndex",colProps:{span:6},valueType:"select",fieldProps:{options:e==null?void 0:e.fields}},{title:"title",dataIndex:"title",colProps:{span:6}},{title:"width",dataIndex:"width",colProps:{span:6},valueType:"digit"},{title:"\u6392\u5E8F",dataIndex:"sort",valueType:"switch",colProps:{span:6}}]}]}]}]},$t=Mt,Nt={title:"\u914D\u7F6E",valueType:"jsonEditor",dataIndex:"config"},de=function(e){return[{title:"\u6392\u5217\u65B9\u5F0F",dataIndex:e,valueType:"select",fieldProps:{options:[{label:"\u6A2A\u5411",value:"horizontal"},{label:"\u7EB5\u5411",value:"vertical"}],defaultValue:"horizontal"},colProps:{span:12}}]},ve=function(e){return{title:"\u5F62\u72B6",dataIndex:["defaultConfig","chart","shapeField"],valueType:"select",fieldProps:{options:[{label:"smooth - \u5E73\u6ED1",value:"smooth"},{label:"trail - \u53D8\u7C97",value:"trail"}]},colProps:{span:e}}},At=function(e){return[{title:"\u57FA\u7840\u4FE1\u606F",formColumns:[{title:"Title",dataIndex:"title",colProps:{span:12}}]}]},zt=function(e){return[{title:"\u57FA\u7840\u4FE1\u606F",formColumns:[{valueType:"group",columns:[{title:"\u7C7B\u578B",dataIndex:"type",valueType:"select",fieldProps:{options:[{label:"StatisticCard - \u6307\u6807\u5361",value:"StatisticCard"},{label:"tab",value:"tab"},{label:"\u8868\u683C",value:"table"},{label:"\u5BB9\u5668",value:"rows"},{label:"\u67E5\u8BE2\u8868\u5355",value:"form"},{label:"\u4E2A\u4EBA\u4FE1\u606F",value:"user"}]},colProps:{span:24}}]},{valueType:"group",columns:[{title:"Title",dataIndex:"title",colProps:{span:12}},{title:"\u6570\u636E\u6E90",dataIndex:"sourceDataName",valueType:"select",fieldProps:{options:(0,Y.H1)(e)?e:[],showSearch:!0},colProps:{span:12}}]},{name:["type","sourceDataName"],valueType:"dependency",columns:function(l){var a=l.type,s=l.sourceDataName;return a=="chart"?se(e==null?void 0:e.find(function(u){return u.value==s})):a=="table"?$t(e==null?void 0:e.find(function(u){return u.value==s})):a=="StatisticCard"?Zt(e==null?void 0:e.find(function(u){return u.value==s})):a=="form"?ue(e==null?void 0:e.find(function(u){return u.value==s})):a=="tab"?ue(e==null?void 0:e.find(function(u){return u.value==s}),["defaultConfig","form","columns"]):[]}}]},{title:"\u914D\u7F6E",formColumns:[{valueType:"group",columns:[{title:"\u5217\u5BBD",dataIndex:"customer_span",valueType:"digit",width:"100%",colProps:{span:12}},{title:"\u81EA\u5B9A\u4E49\u9AD8\u5EA6",dataIndex:"height",valueType:"digit",width:"100%",colProps:{span:12}}]},{valueType:"group",columns:[{title:"\u663E\u793A\u6761\u4EF6",dataIndex:"show_condition",tooltip:"\u53EF\u6839\u636E\u5F53\u524D\u7528\u6237\u7F16\u5199\u662F\u5426\u663E\u793A\u8BE5\u7EC4\u4EF6,\u4F8B\u5982 {{ user.id == 1?true:false }} user\u4E3A\u5F53\u524D\u767B\u5F55\u7528\u6237\u4FE1\u606F",valueType:"textarea",colProps:{span:24}}]},Nt]}]},wt=zt,W=function(e){var r=e.title,l=e.uid,a=e.data,s=e.type,u=s===void 0?"col":s,o=e.extpost,c=(0,I.useContext)(A.x),i=c.tableDesigner,y=i.pageMenu,F=i.reflush,P=i.editUrl,v=i.sourceData,D=(0,I.useContext)(Q.r),S=D.setting,j=(0,I.useContext)(G.YF),g=j.setVisible,f=(0,I.useState)({}),h=w()(f,2),p=h[0],T=h[1];return(0,I.useEffect)(function(){T(a)},[y,a]),(0,t.jsx)("div",{onClick:function(b){b.preventDefault()},children:(0,t.jsx)(ut.default,{trigger:(0,t.jsx)("div",{style:{width:"100%"},onClick:function(b){g==null||g(!1)},children:r}),tabs:u=="col"?wt(v):At(v),value:p,postUrl:P,data:m()({id:y==null?void 0:y.id,uid:l},o),callback:function(b){var Z=b.data;return F(Z),!0},saFormProps:{devEnable:!1}})})},z=function(e){var r=e.title,l=e.uid,a=e.devData,s=e.col,u=e.row,o=e.otitle,c=e.style,i=a.itemType,y=i===void 0?"row":i,F=(0,I.useContext)(A.x),P=F.tableDesigner.devEnable,v=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return{label:(0,t.jsx)(W,{title:(0,t.jsxs)($.Z,{children:[d==0?(0,t.jsx)(ae.Z,{}):(0,t.jsx)(ne.Z,{}),(0,t.jsx)("span",{children:"+ \u5217"})]}),uid:l,extpost:{actionType:d==0?"insertCol":"addCol"}}),key:"addCol"+d}},D=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return{label:(0,t.jsx)(W,{title:(0,t.jsxs)($.Z,{children:[d==0?(0,t.jsx)(ae.Z,{}):(0,t.jsx)(ne.Z,{}),(0,t.jsx)("span",{children:"+ \u884C"})]}),uid:l,type:"row",extpost:{actionType:d==0?"insertRow":"addRow"}}),key:"addRow"+d}},S={label:(0,t.jsx)(W,{title:(0,t.jsxs)($.Z,{children:[(0,t.jsx)(ie.Z,{}),(0,t.jsx)("span",{children:"\u7F16\u8F91"})]}),uid:l,data:u,type:"row",extpost:{actionType:"editRow"}}),key:"editRow"},j={label:(0,t.jsx)(W,{title:(0,t.jsxs)($.Z,{children:[(0,t.jsx)(ie.Z,{}),(0,t.jsx)("span",{children:"\u7F16\u8F91"})]}),uid:l,data:s,type:"col",extpost:{actionType:"editCol"}}),key:"editCol"},g=function(d){return{label:(0,t.jsx)(re.VV,{title:(0,t.jsxs)($.Z,{children:[(0,t.jsx)(it.Z,{}),(0,t.jsx)("span",{children:"\u5220\u9664"})]}),uid:l,extpost:{actionType:d=="col"?"deleteCol":"deleteRow"}}),key:"deleteItem",danger:!0}},f=y=="row"?[S,v(0),{type:"divider"},D(1),{type:"divider"},g("row")]:[j,D(0),{type:"divider"},v(1),{type:"divider"},g("col")],h=(0,re.i3)(),p=h.styles;return P?(0,t.jsxs)(oe.TR,{className:p.saSortItem,id:l,eid:l,devData:m()({type:"panel"},a),style:c,children:[(0,t.jsx)("div",{className:st()("general-schema-designer",p.overrideAntdCSS),children:(0,t.jsx)("div",{className:"general-schema-designer-icons",children:(0,t.jsx)($.Z,{size:3,align:"center",children:(0,t.jsx)(G.cM,{title:(0,t.jsx)(oe.IW,{children:(0,t.jsx)(ot.Z,{role:"button",style:{cursor:"pointer"},"aria-label":"drag-handler",title:"\u53F3\u952E\u83DC\u5355\uFF0C\u957F\u6309\u62D6\u52A8\u6392\u5E8F"})}),items:f})})})}),(0,t.jsx)("div",{role:"button",children:r})]}):o?(0,t.jsx)(t.Fragment,{children:o}):null},Ot=["columns"],Vt=function(e){var r,l=e.config,a=e.data,s=e.title,u=e.uid,o=l.columns,c=V()(l,Ot),i=(0,L.useModel)("@@initialState"),y=i.initialState,F=(0,I.useContext)(A.x),P=F.tableDesigner.devEnable,v=P?(0,t.jsx)(z,{otitle:null,uid:u,col:e,devData:{itemType:"col"},title:(s||"Table")+" - "+u}):s||!1;return(0,t.jsx)(B.Z,{style:{height:"100%"},title:v,children:(0,t.jsx)(nt.Z,m()({columns:(0,at.SS)({initRequest:!0,columns:o,initialState:y,devEnable:!1}),dataSource:a==null?void 0:a.data,rowKey:o==null||(r=o[0])===null||r===void 0?void 0:r.dataIndex},c))})},Bt=Vt,Lt=n(36942),Ut=["url","pageMenu","path"],Wt=function(e){var r=e.span,l=e.title,a=e.uid,s=e.rows,u=e.data,o=e.config,c=e.sourceDataName,i=e.chart,y=e.noTitle,F=y===void 0?!1:y,P=e.height,v=e.type,D=e.getData,S=e.show_condition,j=(0,I.useContext)(Q.r),g=j.isMobile,f=u==null?void 0:u.find(function(C){return C.value==c}),h=(0,I.useContext)(A.x),p=h.tableDesigner.devEnable,T=(0,L.useModel)("@@initialState"),d=T.initialState,b=S&&!p?(0,Me.mF)(S,{user:d==null?void 0:d.currentUser}):!0,Z=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return F?null:(0,t.jsx)(z,{otitle:N||l,title:(N||l||"\u5143\u7D20")+" - "+a,uid:a,col:e,devData:{itemType:"col"}})},R=p?Z(l):l||!1;return b?(0,t.jsx)(ee.Z,{span:g?24:r,children:v=="tab"?(0,t.jsx)(Ht,m()({},e)):v=="table"?(0,t.jsx)(Bt,m()(m()({},e),{},{data:f})):s||v=="rows"?(0,t.jsxs)(t.Fragment,{children:[Z(),(0,t.jsx)(pe,{rows:s,data:u})]}):v=="form"?(0,t.jsx)(ce,m()(m()({},e),{},{idata:f})):v=="user"?(0,t.jsx)(B.Z,{headStyle:p?{width:"100%",display:"block"}:{},title:p?Z():!1,children:(0,t.jsx)($e.PagePanelHeader,{flash:D})}):v=="StatisticCard"?(0,t.jsx)(lt,{title:R,data:f==null?void 0:f.data,label:f==null?void 0:f.label,config:o,height:P}):null}):null},ce=function(e){var r,l=e.config,a=e.idata,s=e.title,u=e.uid,o=e.getData,c=e.simple,i=(0,I.useContext)(A.x),y=i.tableDesigner.devEnable,F=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return(0,t.jsx)(z,{otitle:j||s,title:j||s||"\u5143\u7D20 - "+u,uid:u,col:e,devData:{itemType:"col"}})},P=l==null||(r=l.columns)===null||r===void 0?void 0:r.map(function(S){var j,g=a==null||(j=a.data)===null||j===void 0?void 0:j.find(function(f){return f.name==S.dataIndex});return g&&(S=m()(m()({title:g.label},S),g.props)),S}),v=(0,Ne.ab)({initRequest:!0,columns:P,devEnable:!1}),D=(0,t.jsx)(Fe.Z,{layoutType:c?"LightFilter":"QueryFilter",columns:v,rowProps:{gutter:[16,16]},colProps:{span:12},grid:!1,initialValues:a==null?void 0:a.initialValues,onFinish:function(j){o==null||o(j)}});return c?D:(0,t.jsx)(B.Z,{bodyStyle:{padding:0},title:y?F():!1,children:D})},Ht=function(e){var r=e.uid,l=e.rows,a=e.data,s=e.getData,u=e.config,o=e.sourceDataName,c=e.height,i=(0,I.useContext)(A.x),y=i.tableDesigner.devEnable,F=a==null?void 0:a.find(function(v){return v.value==o}),P=u.form?(0,t.jsx)(ce,{simple:!0,idata:F,config:u.form,getData:s}):null;return(0,t.jsx)(B.Z,{style:{borderTopRightRadius:0,borderTopLeftRadius:0},title:y?(0,t.jsx)(z,{uid:r,col:e,devData:{itemType:"col"},title:"Tab - "+r,otitle:null}):!1,children:(0,t.jsx)(Se.Z,{style:{background:"none"},tabBarExtraContent:P?{right:P}:null,destroyInactiveTabPane:!0,items:l==null?void 0:l.map(function(v,D){return{key:D,label:(0,t.jsx)(z,{title:v!=null&&v.title?v==null?void 0:v.title:"tabItem",otitle:v==null?void 0:v.title,uid:v==null?void 0:v.uid,row:v,devData:{itemType:"row"}}),children:(0,t.jsx)(fe,{index:D,row:v,data:a,noTitle:!0},D)}})})})},fe=function(e){var r,l=e.row,a=e.data,s=e.noTitle,u=s===void 0?!1:s,o=e.index,c=e.getData;return(0,t.jsxs)(Ze.Z,{gutter:[16,16],style:{marginTop:-16},children:[u?null:(0,t.jsx)(ee.Z,{span:24,children:(0,t.jsx)(z,{span:24,otitle:null,title:l!=null&&l.title?l==null?void 0:l.title:"\u5206\u7EC4 - "+(l==null?void 0:l.uid),uid:l==null?void 0:l.uid,devData:{itemType:"row"},row:l})},"row"),l==null||(r=l.cols)===null||r===void 0?void 0:r.map(function(i,y){return(0,I.createElement)(Wt,m()(m()({},i),{},{key:y,data:a,getData:c}))})]})},Gt=function(e){var r,l,a,s=e.url,u=s===void 0?"":s,o=e.pageMenu,c=e.path,i=V()(e,Ut),y=(0,I.useState)(),F=w()(y,2),P=F[0],v=F[1],D=(0,I.useState)(),S=w()(D,2),j=S[0],g=S[1],f=(0,I.useContext)(Q.r),h=f.messageApi,p=function(){var E=Pe()(q()().mark(function M(){var xe,he,ye,X=arguments;return q()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return xe=X.length>0&&X[0]!==void 0?X[0]:{},h==null||h.loading({content:"\u52A0\u8F7D\u4E2D...",key:_.iU,duration:0}),O.next=4,_.ZP.get(u,{params:m()(m()({},j),xe)});case 4:he=O.sent,ye=he.data,h==null||h.destroy(),v(ye);case 8:case"end":return O.stop()}},M)}));return function(){return E.apply(this,arguments)}}(),T=(0,I.useState)(),d=w()(T,2),b=d[0],Z=d[1],R=(0,L.useModel)("@@initialState"),C=R.initialState,N=(0,I.useState)(!!(!(C!=null&&(r=C.settings)!==null&&r!==void 0&&r.devDisable)&&C!==null&&C!==void 0&&(l=C.settings)!==null&&l!==void 0&&(l=l.adminSetting)!==null&&l!==void 0&&l.dev)),H=w()(N,2),ge=H[0],Jt=H[1];(0,I.useEffect)(function(){var E;Z(o==null||(E=o.data)===null||E===void 0?void 0:E.panel),p()},[]);var me=(0,G.Yx)({pageMenu:o,setColumns:Z,getColumnsRender:function(M){return M},type:"panel",devEnable:ge,sourceData:P});return(0,I.useEffect)(function(){var E,M;Jt(!!(!(C!=null&&(E=C.settings)!==null&&E!==void 0&&E.devDisable)&&C!==null&&C!==void 0&&(M=C.settings)!==null&&M!==void 0&&(M=M.adminSetting)!==null&&M!==void 0&&M.dev))},[C==null||(a=C.settings)===null||a===void 0?void 0:a.devDisable]),(0,t.jsx)(Lt.PageContainer404,{title:!1,path:c,children:(0,t.jsxs)(A.x.Provider,{value:{tableDesigner:me},children:[(0,t.jsx)(Ae.L,{children:P&&(0,t.jsx)(pe,m()(m()({},i),{},{rows:b,data:P,getData:p}))},"content"),!P&&(0,t.jsx)(Re.Z,{paragraph:{rows:10},active:!0}),ge?(0,t.jsxs)($.Z,{style:{marginTop:10},children:[(0,t.jsx)(te.ZP,{type:"dashed",onClick:function(){me.edit({base:{id:o==null?void 0:o.id,actionType:"insertRow"}})},children:"+ Row"},"addrow"),(0,t.jsx)(ze.SE,{trigger:(0,t.jsx)(te.ZP,{type:"dashed",danger:!0,children:(0,t.jsx)(De.Z,{})}),pageMenu:o},"devsetting")]}):null]})})},pe=function(e){var r=e.rows,l=e.data,a=e.getData;return(0,t.jsx)(Ee.Z,{vertical:!0,gap:"middle",children:r==null?void 0:r.map(function(s,u){return(0,t.jsx)(fe,{index:u,row:s,data:l,getData:a},u)})})},Yt=Gt}}]);
