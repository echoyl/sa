(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[778],{83902:function(Ce,Ae,Z){var we=Z(52677).default;(function(z){function w(m){if(U[m])return U[m].exports;var P=U[m]={i:m,l:!1,exports:{}};return z[m].call(P.exports,P,P.exports,w),P.l=!0,P.exports}var U={};w.m=z,w.c=U,w.d=function(m,P,B){w.o(m,P)||Object.defineProperty(m,P,{configurable:!1,enumerable:!0,get:B})},w.n=function(m){var P=m&&m.__esModule?function(){return m.default}:function(){return m};return w.d(P,"a",P),P},w.o=function(m,P){return Object.prototype.hasOwnProperty.call(m,P)},w.p="",w(w.s=13)})([function(z,w,U){(function(m){(function(P,B){z.exports=w=B()})(0,function(){var P=P||function(B,r){var h;if(typeof window!="undefined"&&window.crypto&&(h=window.crypto),typeof self!="undefined"&&self.crypto&&(h=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(h=globalThis.crypto),!h&&typeof window!="undefined"&&window.msCrypto&&(h=window.msCrypto),!h&&m!==void 0&&m.crypto&&(h=m.crypto),!h)try{h=U(28)}catch(T){}var c=function(){if(h){if(typeof h.getRandomValues=="function")try{return h.getRandomValues(new Uint32Array(1))[0]}catch(y){}if(typeof h.randomBytes=="function")try{return h.randomBytes(4).readInt32LE()}catch(y){}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||function(){function T(){}return function(y){var E;return T.prototype=y,E=new T,T.prototype=null,E}}(),o={},u=o.lib={},i=u.Base=function(){return{extend:function(y){var E=d(this);return y&&E.mixIn(y),E.hasOwnProperty("init")&&this.init!==E.init||(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var E in y)y.hasOwnProperty(E)&&(this[E]=y[E]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=u.WordArray=i.extend({init:function(y,E){y=this.words=y||[],this.sigBytes=E!=null?E:4*y.length},toString:function(y){return(y||p).stringify(this)},concat:function(y){var E=this.words,N=y.words,j=this.sigBytes,H=y.sigBytes;if(this.clamp(),j%4)for(var Y=0;Y<H;Y++){var V=N[Y>>>2]>>>24-Y%4*8&255;E[j+Y>>>2]|=V<<24-(j+Y)%4*8}else for(var F=0;F<H;F+=4)E[j+F>>>2]=N[F>>>2];return this.sigBytes+=H,this},clamp:function(){var y=this.words,E=this.sigBytes;y[E>>>2]&=4294967295<<32-E%4*8,y.length=B.ceil(E/4)},clone:function(){var y=i.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var E=[],N=0;N<y;N+=4)E.push(c());return new l.init(E,y)}}),s=o.enc={},p=s.Hex={stringify:function(y){for(var E=y.words,N=y.sigBytes,j=[],H=0;H<N;H++){var Y=E[H>>>2]>>>24-H%4*8&255;j.push((Y>>>4).toString(16)),j.push((15&Y).toString(16))}return j.join("")},parse:function(y){for(var E=y.length,N=[],j=0;j<E;j+=2)N[j>>>3]|=parseInt(y.substr(j,2),16)<<24-j%8*4;return new l.init(N,E/2)}},b=s.Latin1={stringify:function(y){for(var E=y.words,N=y.sigBytes,j=[],H=0;H<N;H++){var Y=E[H>>>2]>>>24-H%4*8&255;j.push(String.fromCharCode(Y))}return j.join("")},parse:function(y){for(var E=y.length,N=[],j=0;j<E;j++)N[j>>>2]|=(255&y.charCodeAt(j))<<24-j%4*8;return new l.init(N,E)}},g=s.Utf8={stringify:function(y){try{return decodeURIComponent(escape(b.stringify(y)))}catch(E){throw new Error("Malformed UTF-8 data")}},parse:function(y){return b.parse(unescape(encodeURIComponent(y)))}},S=u.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=g.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var E,N=this._data,j=N.words,H=N.sigBytes,Y=this.blockSize,V=4*Y,F=H/V;F=y?B.ceil(F):B.max((0|F)-this._minBufferSize,0);var a=F*Y,v=B.min(4*a,H);if(a){for(var I=0;I<a;I+=Y)this._doProcessBlock(j,I);E=j.splice(0,a),N.sigBytes-=v}return new l.init(E,v)},clone:function(){var y=i.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0}),R=(u.Hasher=S.extend({cfg:i.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){return y&&this._append(y),this._doFinalize()},blockSize:16,_createHelper:function(y){return function(E,N){return new y.init(N).finalize(E)}},_createHmacHelper:function(y){return function(E,N){return new R.HMAC.init(y,N).finalize(E)}}}),o.algo={});return o}(Math);return P})}).call(w,U(4))},function(z,w,U){"use strict";function m(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function r(h,c){for(var d=0;d<c.length;d++){var o=c[d];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,c,d){return c&&r(h.prototype,c),d&&r(h,d),h}}(),B=function(){function r(){m(this,r)}return P(r,null,[{key:"detectIEVersion",value:function(){for(var c=4,d=document.createElement("div"),o=d.getElementsByTagName("i");d.innerHTML="<!--[if gt IE "+c+"]><i></i><![endif]-->",o[0];)c++;return c>4&&c}},{key:"extend",value:function(c,d){for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&d[o]&&(c[o]=d[o])}},{key:"isArray",value:function(c){return Object.prototype.toString.call(arg)==="[object Array]"}},{key:"getFileType",value:function(c){return c=c.toLowerCase(),/.mp4|.flv|.m3u8|.avi|.rm|.rmvb|.mpeg|.mpg|.mov|.wmv|.3gp|.asf|.dat|.dv|.f4v|.gif|.m2t|.m4v|.mj2|.mjpeg|.mpe|.mts|.ogg|.qt|.swf|.ts|.vob|.wmv|.webm/.test(c)?"video":/.mp3|.wav|.ape|.cda|.au|.midi|.mac|.aac|.ac3|.acm|.amr|.caf|.flac|.m4a|.ra|.wma/.test(c)?"audio":/.bmp|.jpg|.jpeg|.png/.test(c)?"img":"other"}},{key:"isImage",value:function(c){return c=c.toLowerCase(),!!/.jpg|.jpeg|.png/.test(c)}},{key:"ISODateString",value:function(c){function d(o){return o<10?"0"+o:o}return c.getUTCFullYear()+"-"+d(c.getUTCMonth()+1)+"-"+d(c.getUTCDate())+"T"+d(c.getUTCHours())+":"+d(c.getUTCMinutes())+":"+d(c.getUTCSeconds())+"Z"}},{key:"isIntNum",value:function(c){return!!/^\d+$/.test(c)}}]),r}();w.default=B},function(z,w,U){(function(m,P){z.exports=w=P(U(0))})(0,function(m){return function(P){function B(b,g,S,R,T,y,E){var N=b+(g&S|~g&R)+T+E;return(N<<y|N>>>32-y)+g}function r(b,g,S,R,T,y,E){var N=b+(g&R|S&~R)+T+E;return(N<<y|N>>>32-y)+g}function h(b,g,S,R,T,y,E){var N=b+(g^S^R)+T+E;return(N<<y|N>>>32-y)+g}function c(b,g,S,R,T,y,E){var N=b+(S^(g|~R))+T+E;return(N<<y|N>>>32-y)+g}var d=m,o=d.lib,u=o.WordArray,i=o.Hasher,l=d.algo,s=[];(function(){for(var b=0;b<64;b++)s[b]=4294967296*P.abs(P.sin(b+1))|0})();var p=l.MD5=i.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,S){for(var R=0;R<16;R++){var T=S+R,y=g[T];g[T]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8)}var E=this._hash.words,N=g[S+0],j=g[S+1],H=g[S+2],Y=g[S+3],V=g[S+4],F=g[S+5],a=g[S+6],v=g[S+7],I=g[S+8],C=g[S+9],D=g[S+10],W=g[S+11],x=g[S+12],K=g[S+13],J=g[S+14],G=g[S+15],k=E[0],M=E[1],O=E[2],L=E[3];k=B(k,M,O,L,N,7,s[0]),L=B(L,k,M,O,j,12,s[1]),O=B(O,L,k,M,H,17,s[2]),M=B(M,O,L,k,Y,22,s[3]),k=B(k,M,O,L,V,7,s[4]),L=B(L,k,M,O,F,12,s[5]),O=B(O,L,k,M,a,17,s[6]),M=B(M,O,L,k,v,22,s[7]),k=B(k,M,O,L,I,7,s[8]),L=B(L,k,M,O,C,12,s[9]),O=B(O,L,k,M,D,17,s[10]),M=B(M,O,L,k,W,22,s[11]),k=B(k,M,O,L,x,7,s[12]),L=B(L,k,M,O,K,12,s[13]),O=B(O,L,k,M,J,17,s[14]),M=B(M,O,L,k,G,22,s[15]),k=r(k,M,O,L,j,5,s[16]),L=r(L,k,M,O,a,9,s[17]),O=r(O,L,k,M,W,14,s[18]),M=r(M,O,L,k,N,20,s[19]),k=r(k,M,O,L,F,5,s[20]),L=r(L,k,M,O,D,9,s[21]),O=r(O,L,k,M,G,14,s[22]),M=r(M,O,L,k,V,20,s[23]),k=r(k,M,O,L,C,5,s[24]),L=r(L,k,M,O,J,9,s[25]),O=r(O,L,k,M,Y,14,s[26]),M=r(M,O,L,k,I,20,s[27]),k=r(k,M,O,L,K,5,s[28]),L=r(L,k,M,O,H,9,s[29]),O=r(O,L,k,M,v,14,s[30]),M=r(M,O,L,k,x,20,s[31]),k=h(k,M,O,L,F,4,s[32]),L=h(L,k,M,O,I,11,s[33]),O=h(O,L,k,M,W,16,s[34]),M=h(M,O,L,k,J,23,s[35]),k=h(k,M,O,L,j,4,s[36]),L=h(L,k,M,O,V,11,s[37]),O=h(O,L,k,M,v,16,s[38]),M=h(M,O,L,k,D,23,s[39]),k=h(k,M,O,L,K,4,s[40]),L=h(L,k,M,O,N,11,s[41]),O=h(O,L,k,M,Y,16,s[42]),M=h(M,O,L,k,a,23,s[43]),k=h(k,M,O,L,C,4,s[44]),L=h(L,k,M,O,x,11,s[45]),O=h(O,L,k,M,G,16,s[46]),M=h(M,O,L,k,H,23,s[47]),k=c(k,M,O,L,N,6,s[48]),L=c(L,k,M,O,v,10,s[49]),O=c(O,L,k,M,J,15,s[50]),M=c(M,O,L,k,F,21,s[51]),k=c(k,M,O,L,x,6,s[52]),L=c(L,k,M,O,Y,10,s[53]),O=c(O,L,k,M,D,15,s[54]),M=c(M,O,L,k,j,21,s[55]),k=c(k,M,O,L,I,6,s[56]),L=c(L,k,M,O,G,10,s[57]),O=c(O,L,k,M,a,15,s[58]),M=c(M,O,L,k,K,21,s[59]),k=c(k,M,O,L,V,6,s[60]),L=c(L,k,M,O,W,10,s[61]),O=c(O,L,k,M,H,15,s[62]),M=c(M,O,L,k,C,21,s[63]),E[0]=E[0]+k|0,E[1]=E[1]+M|0,E[2]=E[2]+O|0,E[3]=E[3]+L|0},_doFinalize:function(){var g=this._data,S=g.words,R=8*this._nDataBytes,T=8*g.sigBytes;S[T>>>5]|=128<<24-T%32;var y=P.floor(R/4294967296),E=R;S[15+(T+64>>>9<<4)]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8),S[14+(T+64>>>9<<4)]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),g.sigBytes=4*(S.length+1),this._process();for(var N=this._hash,j=N.words,H=0;H<4;H++){var Y=j[H];j[H]=16711935&(Y<<8|Y>>>24)|4278255360&(Y<<24|Y>>>8)}return N},clone:function(){var g=i.clone.call(this);return g._hash=this._hash.clone(),g}});d.MD5=i._createHelper(p),d.HmacMD5=i._createHmacHelper(p)}(Math),m.MD5})},function(z,w,U){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.UPLOADSTATE={INIT:"init",UPLOADING:"uploading",COMPLETE:"complete",INTERRUPT:"interrupt"},w.UPLOADSTEP={INIT:"init",PART:"part",COMPLETE:"complete"},w.UPLOADDEFAULT={PARALLEL:5,PARTSIZE:1048576}},function(z,w){var U;U=function(){return this}();try{U=U||Function("return this")()||(0,eval)("this")}catch(m){(typeof window=="undefined"?"undefined":we(window))=="object"&&(U=window)}z.exports=U},function(z,w,U){"use strict";function m(p){return p&&p.__esModule?p:{default:p}}function P(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var B=function(){function p(b,g){for(var S=0;S<g.length;S++){var R=g[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,R.key,R)}}return function(b,g,S){return g&&p(b.prototype,g),S&&p(b,S),b}}(),r=U(6),h=m(r),c=U(25),d=m(c),o=U(7),u=m(o),i=U(8),l=m(i),s=function(){function p(b){P(this,p);var g=l.default.os.name,S=l.default.os.version||"",R=l.default.browser.name,T=l.default.browser.version||"",y=window.location.href,E="";y&&(E=l.default.getHost(y));var N="pc";l.default.os.ipad?N="pad":(l.default.os.iphone||l.default.os.android)&&(N="phone"),this._ri=h.default.create(),this.initParam={APIVersion:"0.6.0",lv:"1",av:u.default.version,pd:"upload",sm:"upload",md:"uploader",uuid:p.getUuid(),os:g,ov:S,et:R,ev:T,uat:navigator.userAgent,app_n:E,tt:N,dm:"h5",ut:""}}return B(p,[{key:"log",value:function(g,S){S&&S.ri?(this._ri=S.ri,delete S.ri):this._ri=h.default.create(),S&&S.ut&&(this.initParam.ut=S.ut,delete S.ut),this.initParam.t=new Date().getTime(),this.initParam.ll=g=="20006"?"error":"info",this.initParam.ri=this._ri,this.initParam.e=g;var R=[];if(S)for(var T in S)R.push(T+"="+S[T]);var y=R.join("&");this.initParam.args=encodeURIComponent(y==""?"0":y);var E=[];for(var T in this.initParam)E.push(T+"="+this.initParam[T]);var N=E.join("&");AliyunUpload&&AliyunUpload.__logTestCallback__?AliyunUpload.__logTestCallback__(N):new Image(0,0).src="https://videocloud.cn-hangzhou.log.aliyuncs.com/logstores/upload/track?"+N}}],[{key:"getUuid",value:function(){var g=d.default.get("p_h5_upload_u");return g||(g=h.default.create(),d.default.set("p_h5_upload_u",g,730)),g}},{key:"getClientId",value:function(){return d.default.get("p_h5_upload_clientId")}},{key:"setClientId",value:function(g){return g||(g=h.default.create()),d.default.set("p_h5_upload_clientId",g,730),g}}]),p}();w.default=s},function(z,w,U){"use strict";function m(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function r(h,c){for(var d=0;d<c.length;d++){var o=c[d];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,c,d){return c&&r(h.prototype,c),d&&r(h,d),h}}(),B=function(){function r(){m(this,r)}return P(r,null,[{key:"create",value:function(c,d){var o,u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(d=d||u.length,c)for(o=0;o<c;o++)i[o]=u[0|Math.random()*d];else{var l;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",o=0;o<36;o++)i[o]||(l=0|16*Math.random(),i[o]=u[o==19?3&l|8:l])}return i.join("")}}]),r}();w.default=B},function(z,w,U){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var m={version:"1.5.0"};w.default=m},function(z,w,U){"use strict";function m(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function o(u,i){for(var l=0;l<i.length;l++){var s=i[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(u,s.key,s)}}return function(u,i,l){return i&&o(u.prototype,i),l&&o(u,l),u}}(),B=function(u){var i=navigator.userAgent,l="other";if(u.ios)return"iOS";if(u.android)return"android";if(i.indexOf("Baiduspider")>-1)return"Baiduspider";if(i.indexOf("PlayStation")>-1)return"PS4";var s=navigator.platform=="Win32"||navigator.platform=="Windows"||i.indexOf("Windows")>-1,p=navigator.platform=="Mac68K"||navigator.platform=="MacPPC"||navigator.platform=="Macintosh"||navigator.platform=="MacIntel";return p&&(l="macOS"),navigator.platform=="X11"&&!s&&!p&&(l="Unix"),String(navigator.platform).indexOf("Linux")>-1&&(l="Linux"),s?"windows":l},r=function(){var u=navigator.userAgent,i="";return(u.indexOf("Windows NT 5.0")>-1||u.indexOf("Windows 2000")>-1)&&(i="2000"),(u.indexOf("Windows NT 5.1")>-1||u.indexOf("Windows XP")>-1)&&(i="XP"),(u.indexOf("Windows NT 5.2")>-1||u.indexOf("Windows 2003")>-1)&&(i="2003"),(u.indexOf("Windows NT 6.0")>-1||u.indexOf("Windows Vista")>-1)&&(i="Vista"),(u.indexOf("Windows NT 6.1")>-1||u.indexOf("Windows 7")>-1)&&(i="7"),(u.indexOf("Windows NT 6.2")>-1||u.indexOf("Windows 8")>-1)&&(i="8"),(u.indexOf("Windows NT 6.3")>-1||u.indexOf("Windows 8.1")>-1)&&(i="8.1"),(u.indexOf("Windows NT 10")>-1||u.indexOf("Windows 10")>-1)&&(i="10"),i},h=function(u){var i=navigator.userAgent.toLowerCase();return u.chrome?"Chrome":u.firefox?"Firefox":u.safari?"Safari":u.webview?"webview":u.ie?/edge/.test(i)?"Edge":"IE":/baiduspider/.test(i)?"Baiduspider":/ucweb/.test(i)||/UCBrowser/.test(i)?"UC":/opera/.test(i)?"Opera":/ucweb/.test(i)?"UC":/360se/.test(i)?"360\u6D4F\u89C8\u5668":/bidubrowser/.test(i)?"\u767E\u5EA6\u6D4F\u89C8\u5668":/metasr/.test(i)?"\u641C\u72D7\u6D4F\u89C8\u5668":/lbbrowser/.test(i)?"\u730E\u8C79\u6D4F\u89C8\u5668":/micromessenger/.test(i)?"\u5FAE\u4FE1\u5185\u7F6E\u6D4F\u89C8\u5668":/qqbrowser/.test(i)?"QQ\u6D4F\u89C8\u5668":/playstation/.test(i)?"PS4\u6D4F\u89C8\u5668":void 0},c=function(){var o={},u={},i=navigator.userAgent,l=navigator.platform,s=i.match(/Web[kK]it[\/]{0,1}([\d.]+)/),p=i.match(/(Android);?[\s\/]+([\d.]+)?/),b=!!i.match(/\(Macintosh\; Intel /),g=i.match(/(iPad).*OS\s([\d_]+)/),S=i.match(/(iPod)(.*OS\s([\d_]+))?/),R=!g&&i.match(/(iPhone\sOS)\s([\d_]+)/),T=i.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),y=/Win\d{2}|Windows/.test(l),E=i.match(/Windows Phone ([\d.]+)/),N=T&&i.match(/TouchPad/),j=i.match(/Kindle\/([\d.]+)/),H=i.match(/Silk\/([\d._]+)/),Y=i.match(/(BlackBerry).*Version\/([\d.]+)/),V=i.match(/(BB10).*Version\/([\d.]+)/),F=i.match(/(RIM\sTablet\sOS)\s([\d.]+)/),a=i.match(/PlayBook/),v=i.match(/Chrome\/([\d.]+)/)||i.match(/CriOS\/([\d.]+)/),I=i.match(/Firefox\/([\d.]+)/),C=i.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),D=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),W=!v&&i.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),x=W||i.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if((u.webkit=!!s)&&(u.version=s[1]),p&&(o.android=!0,o.version=p[2]),R&&!S&&(o.ios=o.iphone=!0,o.version=R[2].replace(/_/g,".")),g&&(o.ios=o.ipad=!0,o.version=g[2].replace(/_/g,".")),S&&(o.ios=o.ipod=!0,o.version=S[3]?S[3].replace(/_/g,"."):null),E&&(o.wp=!0,o.version=E[1]),T&&(o.webos=!0,o.version=T[2]),N&&(o.touchpad=!0),Y&&(o.blackberry=!0,o.version=Y[2]),V&&(o.bb10=!0,o.version=V[2]),F&&(o.rimtabletos=!0,o.version=F[2]),a&&(u.playbook=!0),j&&(o.kindle=!0,o.version=j[1]),H&&(u.silk=!0,u.version=H[1]),!H&&o.android&&i.match(/Kindle Fire/)&&(u.silk=!0),v&&(u.chrome=!0,u.version=v[1]),I&&(u.firefox=!0,u.version=I[1]),C&&(o.firefoxos=!0,o.version=C[1]),D&&(u.ie=!0,u.version=D[1]),x&&(b||o.ios||y||p)&&(u.safari=!0,o.ios||(u.version=x[1])),W&&(u.webview=!0),b){var K=i.match(/[\d]*_[\d]*_[\d]*/);K&&K.length>0&&K[0]&&(o.version=K[0].replace(/_/g,"."))}return o.tablet=!!(g||a||p&&!i.match(/Mobile/)||I&&i.match(/Tablet/)||D&&!i.match(/Phone/)&&i.match(/Touch/)),o.phone=!(o.tablet||o.ipod||!(p||R||T||Y||V||v&&i.match(/Android/)||v&&i.match(/CriOS\/([\d.]+)/)||I&&i.match(/Mobile/)||D&&i.match(/Touch/))),o.pc=!o.tablet&&!o.phone,b?o.name="macOS":y?(o.name="windows",o.version=r()):o.name=B(o),u.name=h(u),{os:o,browser:u}}(),d=function(){function o(){m(this,o)}return P(o,null,[{key:"getHost",value:function(i){var p="";if(i===void 0||i==null||i=="")return"";var l=i.indexOf("//"),s=i;l>-1&&(s=i.substring(l+2));var p=s,b=s.split("/");return b&&b.length>0&&(p=b[0]),b=p.split(":"),b&&b.length>0&&(p=b[0]),p}},{key:"os",get:function(){return c.os}},{key:"browser",get:function(){var i=c.browser;return i.name||(i.name=h()),i}}]),o}();w.default=d},function(z,w,U){"use strict";function m(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function r(h,c){for(var d=0;d<c.length;d++){var o=c[d];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,c,d){return c&&r(h.prototype,c),d&&r(h,d),h}}(),B=function(){function r(){m(this,r)}return P(r,null,[{key:"get",value:function(c,d,o,u,i){var l;o=o||function(){},typeof XMLHttpRequest=="undefined"&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(s){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(s){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(s){}throw new Error("This browser does not support XMLHttpRequest.")}),l=new XMLHttpRequest,l.onreadystatechange=function(){l.readyState===4&&(l.status===200?d(l.responseText):o(l.responseText))};try{u===void 0&&(u=!0),l.open("GET",c,u),i&&(l.withCredentials=!0)}catch(s){return void o(s)}try{l.send()}catch(s){o(s)}}},{key:"post",value:function(c,d,o,u,i,l){var s;o=o||function(){},typeof XMLHttpRequest=="undefined"&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(p){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(p){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(p){}throw new Error("This browser does not support XMLHttpRequest.")}),s=new XMLHttpRequest,s.onreadystatechange=function(){s.readyState===4&&(s.status===200?d(s.responseText):o(s.responseText))};try{i===void 0&&(i=!0),s.open("POST",c,i),l&&(s.withCredentials=!0)}catch(p){return void o(p)}s.setRequestHeader("Content-type","application/x-www-form-urlencoded");try{s.send(u)}catch(p){o(p)}}}]),r}();w.default=B},function(z,w,U){"use strict";function m(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function c(d,o){for(var u=0;u<o.length;u++){var i=o[u];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(d,i.key,i)}}return function(d,o,u){return o&&c(d.prototype,o),u&&c(d,u),d}}(),B=U(27),r=U(31),h=(U(11),function(){function c(){m(this,c)}return P(c,null,[{key:"randomUUID",value:function(){for(var o=[],u="0123456789abcdef",i=0;i<36;i++)o[i]=u.substr(Math.floor(16*Math.random()),1);return o[14]="4",o[19]=u.substr(3&o[19]|8,1),o[8]=o[13]=o[18]=o[23]="-",o.join("")}},{key:"aliyunEncodeURI",value:function(o){var u=encodeURIComponent(o);return u=u.replace(/\+/g,"%20").replace(/\*/g,"%2A").replace(/%7E/g,"~").replace(/!/g,"%21").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}},{key:"makeUTF8sort",value:function(o,u,i){if(!o)throw new Error("PrismPlayer Error: vid should not be null!");var l=[];for(var s in o)l.push(s);for(var p=l.sort(),b="",g=p.length,s=0;s<g;s++){var S=c.aliyunEncodeURI(p[s]),R=c.aliyunEncodeURI(o[p[s]]);b==""?b=S+u+R:b+=i+S+u+R}return b}},{key:"makeChangeSiga",value:function(o,u){if(!o)throw new Error("PrismPlayer Error: vid should not be null!");return r.stringify(B("GET&"+c.aliyunEncodeURI("/")+"&"+c.aliyunEncodeURI(c.makeUTF8sort(o,"=","&")),u+"&"))}}]),c}());w.default=h},function(z,w,U){(function(m,P){z.exports=w=P(U(0))})(0,function(m){return m.enc.Utf8})},function(z,w,U){(function(m,P){z.exports=w=P(U(0))})(0,function(m){return m.enc.Hex})},function(z,w,U){z.exports=U(14)},function(z,w,U){"use strict";var m,P,B=U(15),r=function(c){return c&&c.__esModule?c:{default:c}}(B),h={Vod:r.default};m=[],(P=function(){return h}.apply(w,m))!==void 0&&(z.exports=P),FileReader.prototype.readAsBinaryString||(FileReader.prototype.readAsBinaryString=function(c){var d="",o=this,u=new FileReader;u.onload=function(i){for(var l=new Uint8Array(u.result),s=l.byteLength,p=0;p<s;p++)d+=String.fromCharCode(l[p]);o.content=d,o.onload()},u.readAsArrayBuffer(c)}),window.AliyunUpload=h},function(z,w,U){"use strict";function m(V){return V&&V.__esModule?V:{default:V}}function P(V,F){if(!(V instanceof F))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var B=function(){function V(F,a){for(var v=0;v<a.length;v++){var I=a[v];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(F,I.key,I)}}return function(F,a,v){return a&&V(F.prototype,a),v&&V(F,v),F}}(),r=U(16),h=U(3),c=U(17),d=m(c),o=U(19),u=m(o),i=U(24),l=m(i),s=U(5),p=m(s),b=U(1),g=m(b),S=U(6),R=m(S),T=U(26),y=m(T),E=U(32),N=m(E),j=U(33),H=m(j),Y=(U(2),function(){function V(F){P(this,V),this.options=F,this.options.partSize=this.options.partSize||h.UPLOADDEFAULT.PARTSIZE,this.options.parallel=this.options.parallel||h.UPLOADDEFAULT.PARALLEL,this.options.region=this.options.region||"cn-shanghai",this.options.cname=this.options.cname||!1,this.options.localCheckpoint=this.options.localCheckpoint||!1,this.options.enableUploadProgress=this.options.enableUploadProgress||!0,this._ossCreditor=new Object,this._state=r.VODSTATE.INIT,this._uploadList=[],this._curIndex=-1,this._ossUpload=null,this._log=new p.default,this._retryCount=0,this._retryTotal=this.options.retryCount||3,this._retryDuration=this.options.retryDuration||2,this._state=r.VODSTATE.INIT,this._uploadWay="vod",this._onbeforeunload=!1,this._invalidUserId=!1,this._initEvent()}return B(V,[{key:"init",value:function(a,v,I,C){return this._retryCount=0,!(I&&!C||!I&&C)&&!(a&&!v||!a&&v)&&(this._ossCreditor.accessKeyId=a,this._ossCreditor.accessKeySecret=v,this._ossCreditor.securityToken=I,this._ossCreditor.expireTime=C,!0)}},{key:"addFile",value:function(a,v,I,C,D,W){if(!a)return!1;if(a.size==0)try{this.options.onUploadFailed({file:a},"EmptyFile","\u6587\u4EF6\u5927\u5C0F\u4E3A0\uFF0C\u4E0D\u80FD\u4E0A\u4F20")}catch(G){console.log(G)}for(var x=(this.options,0);x<this._uploadList.length;x++)if(this._uploadList[x].file==a)return!1;var K=new Object;if(K.file=a,K._endpoint=v,K._bucket=I,K._object=C,K.state=r.UPLOADSTATE.INIT,K.isImage=g.default.isImage(a.name),D&&(K.videoInfo=D?JSON.parse(D).Vod:{},K.userData=u.default.encode(D)),K.ri=R.default.create(),this._uploadList.push(K),!K.isImage&&this.options.enableUploadProgress){var J=this;H.default.getMd5(a,function(G,k){K.fileHash=G,K.fileMd5=k;var M=J._getCheckoutpoint(K);J.options.localCheckpoint||M?J.addFileCallback(K):J._getCheckoutpointFromCloud(K,function(O){if(O.UploadPoint){var L=JSON.parse(O.UploadPoint);L.loaded!=1&&(K.checkpoint=L.checkpoint,K.loaded=L.loaded,K.videoId=O.VideoId,J._saveCheckoutpoint(K,L.checkpoint))}J.addFileCallback(K)},function(O){try{if((O=JSON.parse(O))&&O.Code=="InvalidParameter"&&O.Message.indexOf("UserId")>0){J._invalidUserId=!0;var L=O.Message+"\uFF0C\u6B63\u786E\u8D26\u53F7ID(userId)\u8BF7\u53C2\u8003\uFF1Ahttps://help.aliyun.com/knowledge_detail/37196.html";console.log(L)}}catch(he){console.log(he)}})})}else this.addFileCallback(K)}},{key:"addFileCallback",value:function(a){this._reportLog("20001",a,{ql:this._uploadList.length});try{this.options.addFileSuccess&&this.options.addFileSuccess(a)}catch(v){console.log(v)}return!0}},{key:"deleteFile",value:function(a){return!!this.cancelFile(a)&&(this._uploadList.splice(a,1),!0)}},{key:"cleanList",value:function(){this.stopUpload(),this._uploadList.length=0,this._curIndex=-1}},{key:"cancelFile",value:function(a){if(this.options,a<0||a>=this._uploadList.length)return!1;var v=this._uploadList[a];if(a==this._curIndex&&v.state==r.UPLOADSTATE.UPLOADING){v.state=r.UPLOADSTATE.CANCELED;var I=this._getCheckoutpoint(v);I&&I.checkpoint&&(I=I.checkpoint),I&&this._ossUpload.cancel(),this._removeCheckoutpoint(v),this.nextUpload()}else v.state!=r.UPLOADSTATE.SUCCESS&&(v.state=r.UPLOADSTATE.CANCELED);return this._reportLog("20008",v),!0}},{key:"resumeFile",value:function(a){if(this.options,a<0||a>=this._uploadList.length)return!1;var v=this._uploadList[a];return v.state==r.UPLOADSTATE.CANCELED&&(v.state=r.UPLOADSTATE.INIT,!0)}},{key:"listFiles",value:function(){return this._uploadList}},{key:"getCheckpoint",value:function(a){return this._getCheckoutpoint({file:a})}},{key:"startUpload",value:function(a){if(this._retryCount=0,this.options,this._state==r.VODSTATE.START||this._state==r.VODSTATE.EXPIRE)return void console.log("already started or expired");if(this._initState(),this._curIndex=this._findUploadIndex(),this._curIndex==-1)return void(this._state=r.VODSTATE.END);var v=this._uploadList[this._curIndex];this._ossUpload=null,this._upload(v),this._state=r.VODSTATE.START}},{key:"nextUpload",value:function(){var a=this.options;if(this._state==r.VODSTATE.START)if(this._curIndex=this._findUploadIndex(),this._curIndex!=-1){var v=this._uploadList[this._curIndex];this._ossUpload=null,this._upload(v)}else{this._state=r.VODSTATE.END;try{a.onUploadEnd&&a.onUploadEnd(v)}catch(I){console.log(I)}}}},{key:"clear",value:function(a){for(var v=this.options,I=0,C=0;C<this._uploadList.length;C++)v.uploadList[C].state==r.UPLOADSTATE.SUCCESS&&I++,this._uploadList[C].state==a&&(v.uploadList.splice(C,1),C--);v.onClear&&v.onClear(v.uploadList.length,I)}},{key:"stopUpload",value:function(){if((this._state==r.VODSTATE.START||this._state==r.VODSTATE.FAILURE||this._curIndex==-1)&&this._curIndex!=-1){var a=this._uploadList[this._curIndex];this._state=r.VODSTATE.STOP,a.state=r.UPLOADSTATE.STOPED,this._changeState(a,r.UPLOADSTATE.STOPED),this._ossUpload.cancel()}}},{key:"resumeUploadWithAuth",value:function(a){var v=this;if(!a)return!1;var I=JSON.parse(u.default.decode(a));return!!(I.AccessKeyId&&I.AccessKeySecret&&I.SecurityToken&&I.Expiration)&&v.resumeUploadWithToken(I.AccessKeyId,I.AccessKeySecret,I.SecurityToken,I.Expiration)}},{key:"resumeUploadWithToken",value:function(a,v,I,C){if(this.options,!(a&&v&&I&&C)||this._state!=r.VODSTATE.EXPIRE||this._curIndex==-1)return!1;var D="";return this._uploadList.length>this._curIndex&&(D=this._uploadList[this._curIndex]),D&&(this.init(a,v,I,C),this._state=r.VODSTATE.START,this._ossUpload=null,this._uploadCore(D,D.retry),D.retry=!1),!0}},{key:"resumeUploadWithSTSToken",value:function(a,v,I){if(this._curIndex==-1||this._state!=r.VODSTATE.EXPIRE)return!1;if(this._uploadList.length>this._curIndex){var C=this._uploadList[this._curIndex];C.object?this._refreshSTSTokenUpload(C,a,v,I):this.setSTSToken(C,a,v,I)}}},{key:"setSTSTokenDirectlyUpload",value:function(a,v,I,C,D){if(!(v&&I&&C&&D))return console.log("accessKeyId\u3001ccessKeySecret\u3001securityToken and expiration should not be empty."),!1;this._ut="oss";var W=a;this.init(v,I,C,D),W.endpoint=W._endpoint,W.bucket=W._bucket,W.object=W._object,this._ossUpload=null,this._uploadCore(W,a.retry),a.retry=!1}},{key:"setSTSToken",value:function(a,v,I,C){if(!v||!I||!C)return console.log("accessKeyId\u3001ccessKeySecret\u3001securityToken should not be empty."),!1;this._ut="vod",this._uploadWay="sts";var D=a.videoInfo,W={accessKeyId:v,securityToken:C,accessKeySecret:I,fileName:a.file.name,title:D.Title,requestId:a.ri,region:this.options.region};D.ImageType&&(W.imageType=D.ImageType),D.ImageExt&&(W.imageExt=D.ImageExt),D.FileSize&&(W.fileSize=D.FileSize),D.Description&&(W.description=D.Description),D.CateId&&(W.cateId=D.CateId),D.Tags&&(W.tags=D.Tags),D.TemplateGroupId&&(W.templateGroupId=D.TemplateGroupId),D.StorageLocation&&(W.storageLocation=D.StorageLocation),D.CoverURL&&(W.coverUrl=D.CoverURL),D.TransCodeMode&&(W.transCodeMode=D.TransCodeMode),D.UserData&&(W.userData=D.UserData),D.WorkflowId&&(W.WorkflowId=D.WorkflowId),D.AppId&&(W.AppId=D.AppId);var x=this,K="getUploadAuth";a.videoId?(W.videoId=a.videoId,K="refreshUploadAuth"):a.isImage&&(K="getImageUploadAuth"),y.default[K](W,function(J){a.videoId=J.VideoId?J.VideoId:a.videoId,x.setUploadAuthAndAddress(a,J.UploadAuth,J.UploadAddress),x._state=r.VODSTATE.START},function(J){x._error(a,{name:J.Code,code:J.Code,message:J.Message,requestId:J.RequestId})})}},{key:"setUploadAuthAndAddress",value:function(a,v,I,C){if(!a||!v||!I)return!1;var D=JSON.parse(u.default.decode(v));if(!(D.AccessKeyId&&D.AccessKeySecret&&D.SecurityToken&&D.Expiration))return console.error("uploadauth is invalid"),!1;var W={},x=a;if(I){if(W=JSON.parse(u.default.decode(I)),!W.Endpoint||!W.Bucket||!W.FileName)return console.error("uploadAddress is invalid"),!1}else W.Endpoint=x.endpoint,W.Bucket=x.bucket,W.FileName=x.object;this._ut="vod",this._uploadWay="vod",this.options.region=D.Region||this.options.region,this.init(D.AccessKeyId,D.AccessKeySecret,D.SecurityToken,D.Expiration),x.endpoint=x._endpoint?x._endpoint:W.Endpoint,x.bucket=x._bucket?x._bucket:W.Bucket,x.object=x._object?x._object:W.FileName,x.region=this.options.region,C&&(x.videoId=C),this._ossUpload=null,this._uploadCore(x,a.retry),a.retry=!1}},{key:"_refreshSTSTokenUpload",value:function(a,v,I,C){if(!v||!I||!C)return console.log("accessKeyId\u3001ccessKeySecret\u3001securityToken should not be empty."),!1;var D={accessKeyId:v,securityToken:C,accessKeySecret:I,videoId:a.object,requestId:a.ri,region:this.options.region},W=this,x="refreshUploadAuth";a.isImage&&(x="getImageUploadAuth"),y.default[x](D,function(K){W.setUploadAuthAndAddress(a,K.UploadAuth,UploadAddress),W._state=r.VODSTATE.START},function(K){W._error(a,{name:K.Code,code:K.Code,message:K.Message,requestId:K.RequestId})})}},{key:"_upload",value:function(a){var v=arguments.length>1&&arguments[1]!==void 0&&arguments[1],I=this.options;if(a.retry=v,I.onUploadstarted&&!v)try{var C=this._getCheckoutpoint(a);C&&C.state!=r.UPLOADSTATE.UPLOADING&&(a.checkpoint=C,a.videoId=C.videoId),I.onUploadstarted(a)}catch(D){console.log(D)}}},{key:"_uploadCore",value:function(a){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1],!this._ossCreditor.accessKeyId||!this._ossCreditor.accessKeySecret||!this._ossCreditor.securityToken)throw new Error("AccessKeyId\u3001AccessKeySecret\u3001securityToken should not be null");if(a.state=r.UPLOADSTATE.UPLOADING,!this._ossUpload){a.endpoint=a.endpoint||"http://oss-cn-hangzhou.aliyuncs.com";var v=this;this._ossUpload=new d.default({bucket:a.bucket,endpoint:a.endpoint,AccessKeyId:this._ossCreditor.accessKeyId,AccessKeySecret:this._ossCreditor.accessKeySecret,SecurityToken:this._ossCreditor.securityToken,timeout:this.options.timeout,cname:this.options.cname},{onerror:function(G,k){v._error.call(v,G,k)},oncomplete:function(G,k){v._complete.call(v,G,k)},onprogress:function(G,k,M){v._progress.call(v,G,k,M)}})}var I=g.default.getFileType(a.file.name),C=this._getCheckoutpoint(a),D="",W="";C&&C.checkpoint&&(W=C.state,D=C.videoId,C=C.checkpoint),C&&D==a.videoId&&W!=r.UPLOADSTATE.UPLOADING&&(C.file=a.file,a.checkpoint=C,C.uploadId);var x=this._adjustPartSize(a);this._reportLog("20002",a,{ft:I,fs:a.file.size,bu:a.bucket,ok:a.object,vid:a.videoId||"",fn:a.file.name,fw:null,fh:null,ps:x});var K={headers:{"x-oss-notification":a.userData?a.userData:"","x-oss-md5":a.fileMd5?a.fileMd5:""},partSize:x,parallel:this.options.parallel};this._ossUpload.upload(a,K)}},{key:"_findUploadIndex",value:function(){for(var a=-1,v=0;v<this._uploadList.length;v++)if(this._uploadList[v].state==r.UPLOADSTATE.INIT){a=v;break}return a}},{key:"_error",value:function(a,v){if(v.name=="cancel")try{this.options.onUploadCanceled(a,v)}catch(C){console.log(C)}else{if(v.message.indexOf("InvalidAccessKeyIdError")>0||v.name=="SignatureDoesNotMatchError"||v.code=="SecurityTokenExpired"||v.code=="InvalidSecurityToken.Expired"||v.code=="InvalidAccessKeyId"&&this._ossCreditor.securityToken){if(this.options.onUploadTokenExpired){this._state=r.VODSTATE.EXPIRE,a.state=r.UPLOADSTATE.FAIlURE;try{this.options.onUploadTokenExpired(a,v)}catch(C){console.log(C)}}return}if((v.name=="RequestTimeoutError"||v.name=="ConnectionTimeout"||v.name=="ConnectionTimeoutError")&&this._retryTotal>this._retryCount){var I=this;return setTimeout(function(){I._uploadCore(a,!0)},1e3*I._retryDuration),void this._retryCount++}v.name=="NoSuchUploadError"?this._removeCheckoutpoint(a):v.name=="abort"&&(this._removeCheckoutpoint(a),this.options.onUploadFailed(a,"OSSAbort","\u7531\u4E8E OSS Abort \u4E0A\u4F20\u4E2D\u6B62")),this._handleError(a,v)}}},{key:"_handleError",value:function(a,v){var I=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],C=r.UPLOADSTATE.FAIlURE;if(a.state!=r.UPLOADSTATE.CANCELED&&(a.state=r.UPLOADSTATE.FAIlURE,this._state=r.VODSTATE.FAILURE,this.options.onUploadFailed&&v&&v.code&&v.message))try{this.options.onUploadFailed(a,v.code,v.message)}catch(W){console.log(W)}if(I&&this._changeState(a,C),this._reportLog("20006",a,{code:v.name,message:v.message,requestId:v.requestId,fs:a.file.size,bu:a.bucket,ok:a.object,fn:a.file.name}),this._reportLog("20004",a,{requestId:v.requestId,fs:a.file.size,bu:a.bucket,ok:a.object,fn:a.file.name}),a.ri=R.default.create(),this._findUploadIndex()!=-1){var D=this;this._state=r.VODSTATE.START,setTimeout(function(){D.nextUpload()},100)}}},{key:"_complete",value:function(a,v){if(a.state=r.UPLOADSTATE.SUCCESS,this.options.onUploadSucceed)try{this.options.onUploadSucceed(a)}catch(D){console.log(D)}var I=0;v&&v.res&&v.res.headers&&(I=v.res.headers["x-oss-request-id"]),this._removeCheckoutpoint(a);var C=this;setTimeout(function(){C.nextUpload()},100),this._retryCount=0,this._reportLog("20003",a,{requestId:I})}},{key:"_progress",value:function(a,v,I){if(this.options.onUploadProgress)try{a.loaded=v.loaded,this.options.onUploadProgress(a,v.total,v.loaded)}catch(G){console.log(G)}var C=v.checkpoint,D=0;C&&!this._onbeforeunload&&(a.checkpoint=C,this._saveCheckoutpoint(a,C,r.UPLOADSTATE.UPLOADING),D=C.uploadId),this._retryCount=0;var W=this._getPortNumber(C),x=0;if(I&&I.headers&&(x=I.headers["x-oss-request-id"]),v.loaded!=0&&this._reportLog("20007",a,{pn:W,requestId:x}),v.loaded!=1&&this._reportLog("20005",a,{UploadId:D,pn:W+1,pr:a.retry?1:0,fs:a.file.size,bu:a.bucket,ok:a.object,fn:a.file.name}),!this._invalidUserId&&!a.isImage&&this._ut=="vod"&&this.options.enableUploadProgress){var K={file:a.file,checkpoint:v,userId:this.options.userId,videoId:a.videoId,region:this.options.region,fileHash:a.fileHash};try{var J=this;N.default.upload(K,function(){},function(G){if((G=JSON.parse(G))&&G.Code=="InvalidParameter"&&G.Message.indexOf("UserId")>0){J._invalidUserId=!0;var k=G.Message+"\uFF0C\u6B63\u786E\u8D26\u53F7ID(userId)\u8BF7\u53C2\u8003\uFF1Ahttps://help.aliyun.com/knowledge_detail/37196.html";console.log(k)}})}catch(G){console.log(G)}}}},{key:"_getPortNumber",value:function(a){if(a){var v=a.doneParts;if(v&&v.length>0)return v[v.length-1].number}return 0}},{key:"_removeCheckoutpoint",value:function(a){var v=this._getCheckoutpointKey(a);l.default.remove(v)}},{key:"_getCheckoutpoint",value:function(a){var v=this._getCheckoutpointKey(a),I=l.default.get(v);if(I)try{return JSON.parse(I)}catch(C){}return""}},{key:"_saveCheckoutpoint",value:function(a,v,I){if(v){var C=this._getCheckoutpointKey(a),D=a.file,W={fileName:D.name,lastModified:D.lastModified,size:D.size,object:a.object,videoId:a.videoId,bucket:a.bucket,endpoint:a.endpoint,checkpoint:v,loaded:a.loaded,state:I};l.default.set(C,JSON.stringify(W))}}},{key:"_changeState",value:function(a,v){var I=this._getCheckoutpoint(a);I&&((this._onbeforeunload=!0)&&(v=r.UPLOADSTATE.STOPED),this._saveCheckoutpoint(a,I.checkpoint,v))}},{key:"_getCheckoutpointKey",value:function(a){return"upload_"+a.file.lastModified+"_"+a.file.name+"_"+a.file.size}},{key:"_getCheckoutpointFromCloud",value:function(a,v,I){var C={userId:this.options.userId,uploadInfoList:[{FileName:a.file.name,FileSize:a.file.size,FileCreateTime:a.file.lastModified,FileHash:a.fileHash}],region:this.options.region};N.default.get(C,function(D){v(D)},I)}},{key:"_reportLog",value:function(a,v,I){I||(I={}),I.ri=v.ri,this._ut&&(I.ut=this._ut),this._log.log(a,I)}},{key:"_initEvent",value:function(){var a=this;window&&(window.onbeforeunload=function(v){if(a._onbeforeunload=!0,a._curIndex!=-1&&a._uploadList.length>a._curIndex){var I=a._uploadList[a._curIndex];a._changeState(I,r.UPLOADSTATE.STOPED)}})}},{key:"_initState",value:function(){for(var a=0;a<this._uploadList.length;a++){var v=this._uploadList[a];v.state!=r.UPLOADSTATE.FAIlURE&&v.state!=r.UPLOADSTATE.STOPED||(v.state=r.UPLOADSTATE.INIT)}this._state=r.VODSTATE.INIT}},{key:"_adjustPartSize",value:function(a){return a.file.size/this.options.partSize>1e4?a.file.size/9999:this.options.partSize}}]),V}());w.default=Y},function(z,w,U){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.UPLOADSTATE={INIT:"Ready",UPLOADING:"Uploading",SUCCESS:"Success",FAIlURE:"Failure",CANCELED:"Canceled",STOPED:"Stoped"},w.VODSTATE={INIT:"Init",START:"Start",STOP:"Stop",FAILURE:"Failure",EXPIRE:"Expire",END:"End"}},function(z,w,U){"use strict";function m(o){return o&&o.__esModule?o:{default:o}}function P(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var B=function(){function o(u,i){for(var l=0;l<i.length;l++){var s=i[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(u,s.key,s)}}return function(u,i,l){return i&&o(u.prototype,i),l&&o(u,l),u}}(),r=U(3),h=U(18),c=(m(h),U(1)),d=(m(c),function(){function o(u,i){if(P(this,o),u){this._config=u,this.create(this._config),this._uploadInfo=null,this._callback={};var l=function(){};this._callback.onerror=i.onerror||l,this._callback.oncomplete=i.oncomplete||l,this._callback.onprogress=i.onprogress||l}}return B(o,[{key:"create",value:function(i){if(i.endpoint=i.endpoint||this._config.endpoint,i.bucket=i.bucket||this._config.bucket,!(i.AccessKeyId&&i.AccessKeySecret&&i.endpoint&&i.SecurityToken))throw new Error("AccessKeyId\u3001AccessKeySecret\u3001endpoint should not be null");var l={accessKeyId:i.AccessKeyId,accessKeySecret:i.AccessKeySecret,stsToken:i.SecurityToken,endpoint:i.endpoint||this._config.endpoint,bucket:i.bucket||this._config.bucket,secure:!0,cname:i.cname};i.timeout&&(l.timeout=i.timeout),this.oss=new OSS(l)}},{key:"abort",value:function(i){if(i.checkpoint){var l=i.checkpoint.uploadId;this.oss.abortMultipartUpload(i.object,l)}}},{key:"getVersion",value:function(){}},{key:"cancel",value:function(){this.oss.cancel&&this.oss.cancel()}},{key:"upload",value:function(i,l){this._uploadInfo=i;var s=this,p=function(S,R,T){p=s._progress(S,R,T)},b={parallel:l.parallel||this._config.parallel||r.UPLOADDEFAULT.PARALLEL,partSize:Math.round(l.partSize||this._config.partSize||r.UPLOADDEFAULT.PARTSIZE),progress:p};l.headers&&(b.headers=l.headers),i.checkpoint&&(b.checkpoint=i.checkpoint),i.bucket||(this.oss.options.bucket=i.bucket),i.endpoint||(this.oss.options.endpoint=i.endpoint),this.oss.multipartUpload(i.object,i.file,b).then(function(g,S){s._complete(g)}).catch(function(g){s.oss.cancel&&(s.oss&&s.oss.isCancel()?console.log("oss is cancel as error"):s.oss.cancel()),s._error(g)})}},{key:"header",value:function(i,l,s){this.oss.get(i.object).then(function(p){l(p)}).catch(function(p){s(p)})}},{key:"_progress",value:function(i,l,s){this._callback.onprogress(this._uploadInfo,{loaded:i,total:this._uploadInfo.file.size,checkpoint:l},s)}},{key:"_error",value:function(i){this._callback.onerror(this._uploadInfo,i)}},{key:"_complete",value:function(i){this._callback.oncomplete(this._uploadInfo,i)}}]),o}());w.default=d},function(z,w,U){"use strict";function m(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function r(h,c){for(var d=0;d<c.length;d++){var o=c[d];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,c,d){return c&&r(h.prototype,c),d&&r(h,d),h}}(),B=function(){function r(){m(this,r)}return P(r,null,[{key:"format",value:function(c){if(arguments.length<2)return null;for(var d=arguments[1],o=1;o<arguments.length;o++){var u=new RegExp("\\{"+(o-1)+"\\}","gm");d=d.replace(u,arguments[o+1])}return{code:c,message:d}}},{key:"CODE",get:function(){return{SUCCESS:"Successful",EmptyValue:"InvalidParameter.EmptyValue",STSInvalid:"InvalidParameter.TokenInvalid",ReadFileError:"ReadFileError",FILEDUPLICATION:"FileDuplication",UploadALEADRYSTARTED:"UploadAlearyStarted"}}},{key:"MESSAGE",get:function(){return{SUCCESS:"Successful",EmptyValue:"\u53C2\u6570 {0} \u4E0D\u80FD\u4E3A\u7A7A\u3002",STSInvalid:"STS\u53C2\u6570\u975E\u6CD5\uFF0C accessKeyId\u3001accessKeySecret\u3001secretToken\u3001expireTime\u90FD\u4E0D\u80FD\u4E3A\u7A7A\u3002",ReadFileError:"\u8BFB\u53D6\u6587\u4EF6{0}{1}\u5931\u8D25.",FILEDUPLICATION:"\u6587\u4EF6\u91CD\u590D\u6DFB\u52A0 {0}",UploadALEADRYSTARTED:"\u91CD\u590D\u5F00\u59CB."}}}]),r}();w.default=B},function(z,w,U){"use strict";(function(m){function P(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var B=function(){function h(c,d){for(var o=0;o<d.length;o++){var u=d[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}return function(c,d,o){return d&&h(c.prototype,d),o&&h(c,o),c}}(),r=function(){function h(){P(this,h)}return B(h,null,[{key:"encode",value:function(d){return new m(d).toString("base64")}},{key:"decode",value:function(d){return new m(d,"base64").toString()}}]),h}();w.default=r}).call(w,U(20).Buffer)},function(z,w,U){"use strict";(function(m){function P(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function B(e,t){if(P()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=r.prototype):(e===null&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return o(this,e)}return h(this,e,t,n)}function h(e,t,n,f){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?l(e,t,n,f):typeof t=="string"?u(e,t,n):s(e,t)}function c(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t,n,f){return c(t),t<=0?B(e,t):n!==void 0?typeof f=="string"?B(e,t).fill(n,f):B(e,t).fill(n):B(e,t)}function o(e,t){if(c(t),e=B(e,t<0?0:0|p(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t,n){if(typeof n=="string"&&n!==""||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var f=0|g(t,n);e=B(e,f);var _=e.write(t,n);return _!==f&&(e=e.slice(0,_)),e}function i(e,t){var n=t.length<0?0:0|p(t.length);e=B(e,n);for(var f=0;f<n;f+=1)e[f]=255&t[f];return e}function l(e,t,n,f){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(f||0))throw new RangeError("'length' is out of bounds");return t=n===void 0&&f===void 0?new Uint8Array(t):f===void 0?new Uint8Array(t,n):new Uint8Array(t,n,f),r.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=r.prototype):e=i(e,t),e}function s(e,t){if(r.isBuffer(t)){var n=0|p(t.length);return e=B(e,n),e.length===0||t.copy(e,0,0,n),e}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Ue(t.length)?B(e,0):i(e,t);if(t.type==="Buffer"&&te(t.data))return i(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=P())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),r.alloc(+e)}function g(e,t){if(r.isBuffer(e))return e.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var n=e.length;if(n===0)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return me(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Te(e).length;default:if(f)return me(e).length;t=(""+t).toLowerCase(),f=!0}}function S(e,t,n){var f=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return a(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return F(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,t,n);default:if(f)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),f=!0}}function R(e,t,n){var f=e[t];e[t]=e[n],e[n]=f}function T(e,t,n,f,_){if(e.length===0)return-1;if(typeof n=="string"?(f=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=_?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(_)return-1;n=e.length-1}else if(n<0){if(!_)return-1;n=0}if(typeof t=="string"&&(t=r.from(t,f)),r.isBuffer(t))return t.length===0?-1:y(e,t,n,f,_);if(typeof t=="number")return t&=255,r.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,f,_);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,f,_){function A(_e,Se){return X===1?_e[Se]:_e.readUInt16BE(Se*X)}var X=1,q=e.length,ne=t.length;if(f!==void 0&&((f=String(f).toLowerCase())==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(e.length<2||t.length<2)return-1;X=2,q/=2,ne/=2,n/=2}var $;if(_){var re=-1;for($=n;$<q;$++)if(A(e,$)===A(t,re===-1?0:$-re)){if(re===-1&&(re=$),$-re+1===ne)return re*X}else re!==-1&&($-=$-re),re=-1}else for(n+ne>q&&(n=q-ne),$=n;$>=0;$--){for(var ue=!0,be=0;be<ne;be++)if(A(e,$+be)!==A(t,be)){ue=!1;break}if(ue)return $}return-1}function E(e,t,n,f){n=Number(n)||0;var _=e.length-n;f?(f=Number(f))>_&&(f=_):f=_;var A=t.length;if(A%2!=0)throw new TypeError("Invalid hex string");f>A/2&&(f=A/2);for(var X=0;X<f;++X){var q=parseInt(t.substr(2*X,2),16);if(isNaN(q))return X;e[n+X]=q}return X}function N(e,t,n,f){return ge(me(t,e.length-n),e,n,f)}function j(e,t,n,f){return ge(pe(t),e,n,f)}function H(e,t,n,f){return j(e,t,n,f)}function Y(e,t,n,f){return ge(Te(t),e,n,f)}function V(e,t,n,f){return ge(Ie(t,e.length-n),e,n,f)}function F(e,t,n){return t===0&&n===e.length?Ee.fromByteArray(e):Ee.fromByteArray(e.slice(t,n))}function a(e,t,n){n=Math.min(e.length,n);for(var f=[],_=t;_<n;){var A=e[_],X=null,q=A>239?4:A>223?3:A>191?2:1;if(_+q<=n){var ne,$,re,ue;switch(q){case 1:A<128&&(X=A);break;case 2:ne=e[_+1],(192&ne)==128&&(ue=(31&A)<<6|63&ne)>127&&(X=ue);break;case 3:ne=e[_+1],$=e[_+2],(192&ne)==128&&(192&$)==128&&(ue=(15&A)<<12|(63&ne)<<6|63&$)>2047&&(ue<55296||ue>57343)&&(X=ue);break;case 4:ne=e[_+1],$=e[_+2],re=e[_+3],(192&ne)==128&&(192&$)==128&&(192&re)==128&&(ue=(15&A)<<18|(63&ne)<<12|(63&$)<<6|63&re)>65535&&ue<1114112&&(X=ue)}}X===null?(X=65533,q=1):X>65535&&(X-=65536,f.push(X>>>10&1023|55296),X=56320|1023&X),f.push(X),_+=q}return v(f)}function v(e){var t=e.length;if(t<=ve)return String.fromCharCode.apply(String,e);for(var n="",f=0;f<t;)n+=String.fromCharCode.apply(String,e.slice(f,f+=ve));return n}function I(e,t,n){var f="";n=Math.min(e.length,n);for(var _=t;_<n;++_)f+=String.fromCharCode(127&e[_]);return f}function C(e,t,n){var f="";n=Math.min(e.length,n);for(var _=t;_<n;++_)f+=String.fromCharCode(e[_]);return f}function D(e,t,n){var f=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>f)&&(n=f);for(var _="",A=t;A<n;++A)_+=ce(e[A]);return _}function W(e,t,n){for(var f=e.slice(t,n),_="",A=0;A<f.length;A+=2)_+=String.fromCharCode(f[A]+256*f[A+1]);return _}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function K(e,t,n,f,_,A){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>_||t<A)throw new RangeError('"value" argument is out of bounds');if(n+f>e.length)throw new RangeError("Index out of range")}function J(e,t,n,f){t<0&&(t=65535+t+1);for(var _=0,A=Math.min(e.length-n,2);_<A;++_)e[n+_]=(t&255<<8*(f?_:1-_))>>>8*(f?_:1-_)}function G(e,t,n,f){t<0&&(t=4294967295+t+1);for(var _=0,A=Math.min(e.length-n,4);_<A;++_)e[n+_]=t>>>8*(f?_:3-_)&255}function k(e,t,n,f,_,A){if(n+f>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,f,_){return _||k(e,t,n,4,34028234663852886e22,-34028234663852886e22),fe.write(e,t,n,f,23,4),n+4}function O(e,t,n,f,_){return _||k(e,t,n,8,17976931348623157e292,-17976931348623157e292),fe.write(e,t,n,f,52,8),n+8}function L(e){if(e=he(e).replace(Pe,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function he(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ce(e){return e<16?"0"+e.toString(16):e.toString(16)}function me(e,t){t=t||1/0;for(var n,f=e.length,_=null,A=[],X=0;X<f;++X){if((n=e.charCodeAt(X))>55295&&n<57344){if(!_){if(n>56319){(t-=3)>-1&&A.push(239,191,189);continue}if(X+1===f){(t-=3)>-1&&A.push(239,191,189);continue}_=n;continue}if(n<56320){(t-=3)>-1&&A.push(239,191,189),_=n;continue}n=65536+(_-55296<<10|n-56320)}else _&&(t-=3)>-1&&A.push(239,191,189);if(_=null,n<128){if((t-=1)<0)break;A.push(n)}else if(n<2048){if((t-=2)<0)break;A.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;A.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;A.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return A}function pe(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Ie(e,t){for(var n,f,_,A=[],X=0;X<e.length&&!((t-=2)<0);++X)n=e.charCodeAt(X),f=n>>8,_=n%256,A.push(_),A.push(f);return A}function Te(e){return Ee.toByteArray(L(e))}function ge(e,t,n,f){for(var _=0;_<f&&!(_+n>=t.length||_>=e.length);++_)t[_+n]=e[_];return _}function Ue(e){return e!==e}var Ee=U(21),fe=U(22),te=U(23);w.Buffer=r,w.SlowBuffer=b,w.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=m.TYPED_ARRAY_SUPPORT!==void 0?m.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42&&typeof e.subarray=="function"&&e.subarray(1,1).byteLength===0}catch(t){return!1}}(),w.kMaxLength=P(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return h(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return d(null,e,t,n)},r.allocUnsafe=function(e){return o(null,e)},r.allocUnsafeSlow=function(e){return o(null,e)},r.isBuffer=function(e){return!(e==null||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,f=t.length,_=0,A=Math.min(n,f);_<A;++_)if(e[_]!==t[_]){n=e[_],f=t[_];break}return n<f?-1:f<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!te(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return r.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var f=r.allocUnsafe(t),_=0;for(n=0;n<e.length;++n){var A=e[n];if(!r.isBuffer(A))throw new TypeError('"list" argument must be an Array of Buffers');A.copy(f,_),_+=A.length}return f},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)R(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)R(this,t,t+3),R(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)R(this,t,t+7),R(this,t+1,t+6),R(this,t+2,t+5),R(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return e===0?"":arguments.length===0?a(this,0,e):S.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||r.compare(this,e)===0},r.prototype.inspect=function(){var e="",t=w.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,f,_){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),f===void 0&&(f=0),_===void 0&&(_=this.length),t<0||n>e.length||f<0||_>this.length)throw new RangeError("out of range index");if(f>=_&&t>=n)return 0;if(f>=_)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,f>>>=0,_>>>=0,this===e)return 0;for(var A=_-f,X=n-t,q=Math.min(A,X),ne=this.slice(f,_),$=e.slice(t,n),re=0;re<q;++re)if(ne[re]!==$[re]){A=ne[re],X=$[re];break}return A<X?-1:X<A?1:0},r.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},r.prototype.indexOf=function(e,t,n){return T(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return T(this,e,t,n,!1)},r.prototype.write=function(e,t,n,f){if(t===void 0)f="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")f=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,f===void 0&&(f="utf8")):(f=n,n=void 0)}var _=this.length-t;if((n===void 0||n>_)&&(n=_),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(var A=!1;;)switch(f){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return N(this,e,t,n);case"ascii":return j(this,e,t,n);case"latin1":case"binary":return H(this,e,t,n);case"base64":return Y(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,e,t,n);default:if(A)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),A=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ve=4096;r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var f;if(r.TYPED_ARRAY_SUPPORT)f=this.subarray(e,t),f.__proto__=r.prototype;else{var _=t-e;f=new r(_,void 0);for(var A=0;A<_;++A)f[A]=this[A+e]}return f},r.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var f=this[e],_=1,A=0;++A<t&&(_*=256);)f+=this[e+A]*_;return f},r.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var f=this[e+--t],_=1;t>0&&(_*=256);)f+=this[e+--t]*_;return f},r.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var f=this[e],_=1,A=0;++A<t&&(_*=256);)f+=this[e+A]*_;return _*=128,f>=_&&(f-=Math.pow(2,8*t)),f},r.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var f=t,_=1,A=this[e+--f];f>0&&(_*=256);)A+=this[e+--f]*_;return _*=128,A>=_&&(A-=Math.pow(2,8*t)),A},r.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),fe.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),fe.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),fe.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),fe.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,f){e=+e,t|=0,n|=0,!f&&K(this,e,t,n,Math.pow(2,8*n)-1,0);var _=1,A=0;for(this[t]=255&e;++A<n&&(_*=256);)this[t+A]=e/_&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,f){e=+e,t|=0,n|=0,!f&&K(this,e,t,n,Math.pow(2,8*n)-1,0);var _=n-1,A=1;for(this[t+_]=255&e;--_>=0&&(A*=256);)this[t+_]=e/A&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):J(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):J(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):G(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,f){if(e=+e,t|=0,!f){var _=Math.pow(2,8*n-1);K(this,e,t,n,_-1,-_)}var A=0,X=1,q=0;for(this[t]=255&e;++A<n&&(X*=256);)e<0&&q===0&&this[t+A-1]!==0&&(q=1),this[t+A]=(e/X>>0)-q&255;return t+n},r.prototype.writeIntBE=function(e,t,n,f){if(e=+e,t|=0,!f){var _=Math.pow(2,8*n-1);K(this,e,t,n,_-1,-_)}var A=n-1,X=1,q=0;for(this[t+A]=255&e;--A>=0&&(X*=256);)e<0&&q===0&&this[t+A+1]!==0&&(q=1),this[t+A]=(e/X>>0)-q&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):J(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):J(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||K(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,f){if(n||(n=0),f||f===0||(f=this.length),t>=e.length&&(t=e.length),t||(t=0),f>0&&f<n&&(f=n),f===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),e.length-t<f-n&&(f=e.length-t+n);var _,A=f-n;if(this===e&&n<t&&t<f)for(_=A-1;_>=0;--_)e[_+t]=this[_+n];else if(A<1e3||!r.TYPED_ARRAY_SUPPORT)for(_=0;_<A;++_)e[_+t]=this[_+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+A),t);return A},r.prototype.fill=function(e,t,n,f){if(typeof e=="string"){if(typeof t=="string"?(f=t,t=0,n=this.length):typeof n=="string"&&(f=n,n=this.length),e.length===1){var _=e.charCodeAt(0);_<256&&(e=_)}if(f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!r.isEncoding(f))throw new TypeError("Unknown encoding: "+f)}else typeof e=="number"&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0);var A;if(typeof e=="number")for(A=t;A<n;++A)this[A]=e;else{var X=r.isBuffer(e)?e:me(new r(e,f).toString()),q=X.length;for(A=0;A<n-t;++A)this[A+t]=X[A%q]}return this};var Pe=/[^+\/0-9A-Za-z-_]/g}).call(w,U(4))},function(z,w,U){"use strict";function m(p){var b=p.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return p[b-2]==="="?2:p[b-1]==="="?1:0}function P(p){return 3*p.length/4-m(p)}function B(p){var b,g,S,R,T,y=p.length;R=m(p),T=new u(3*y/4-R),g=R>0?y-4:y;var E=0;for(b=0;b<g;b+=4)S=o[p.charCodeAt(b)]<<18|o[p.charCodeAt(b+1)]<<12|o[p.charCodeAt(b+2)]<<6|o[p.charCodeAt(b+3)],T[E++]=S>>16&255,T[E++]=S>>8&255,T[E++]=255&S;return R===2?(S=o[p.charCodeAt(b)]<<2|o[p.charCodeAt(b+1)]>>4,T[E++]=255&S):R===1&&(S=o[p.charCodeAt(b)]<<10|o[p.charCodeAt(b+1)]<<4|o[p.charCodeAt(b+2)]>>2,T[E++]=S>>8&255,T[E++]=255&S),T}function r(p){return d[p>>18&63]+d[p>>12&63]+d[p>>6&63]+d[63&p]}function h(p,b,g){for(var S,R=[],T=b;T<g;T+=3)S=(p[T]<<16)+(p[T+1]<<8)+p[T+2],R.push(r(S));return R.join("")}function c(p){for(var b,g=p.length,S=g%3,R="",T=[],y=0,E=g-S;y<E;y+=16383)T.push(h(p,y,y+16383>E?E:y+16383));return S===1?(b=p[g-1],R+=d[b>>2],R+=d[b<<4&63],R+="=="):S===2&&(b=(p[g-2]<<8)+p[g-1],R+=d[b>>10],R+=d[b>>4&63],R+=d[b<<2&63],R+="="),T.push(R),T.join("")}w.byteLength=P,w.toByteArray=B,w.fromByteArray=c;for(var d=[],o=[],u=typeof Uint8Array!="undefined"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,s=i.length;l<s;++l)d[l]=i[l],o[i.charCodeAt(l)]=l;o[45]=62,o[95]=63},function(z,w){w.read=function(U,m,P,B,r){var h,c,d=8*r-B-1,o=(1<<d)-1,u=o>>1,i=-7,l=P?r-1:0,s=P?-1:1,p=U[m+l];for(l+=s,h=p&(1<<-i)-1,p>>=-i,i+=d;i>0;h=256*h+U[m+l],l+=s,i-=8);for(c=h&(1<<-i)-1,h>>=-i,i+=B;i>0;c=256*c+U[m+l],l+=s,i-=8);if(h===0)h=1-u;else{if(h===o)return c?NaN:1/0*(p?-1:1);c+=Math.pow(2,B),h-=u}return(p?-1:1)*c*Math.pow(2,h-B)},w.write=function(U,m,P,B,r,h){var c,d,o,u=8*h-r-1,i=(1<<u)-1,l=i>>1,s=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=B?0:h-1,b=B?1:-1,g=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(d=isNaN(m)?1:0,c=i):(c=Math.floor(Math.log(m)/Math.LN2),m*(o=Math.pow(2,-c))<1&&(c--,o*=2),m+=c+l>=1?s/o:s*Math.pow(2,1-l),m*o>=2&&(c++,o/=2),c+l>=i?(d=0,c=i):c+l>=1?(d=(m*o-1)*Math.pow(2,r),c+=l):(d=m*Math.pow(2,l-1)*Math.pow(2,r),c=0));r>=8;U[P+p]=255&d,p+=b,d/=256,r-=8);for(c=c<<r|d,u+=r;u>0;U[P+p]=255&c,p+=b,c/=256,u-=8);U[P+p-b]|=128*g}},function(z,w){var U={}.toString;z.exports=Array.isArray||function(m){return U.call(m)=="[object Array]"}},function(z,w,U){"use strict";function m(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function r(h,c){for(var d=0;d<c.length;d++){var o=c[d];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,c,d){return c&&r(h.prototype,c),d&&r(h,d),h}}(),B=function(){function r(){m(this,r)}return P(r,null,[{key:"set",value:function(c,d){try{window.localStorage&&localStorage.setItem(c,d)}catch(o){window[c+"_localStorage"]=d}}},{key:"get",value:function(c){try{if(window.localStorage)return localStorage.getItem(c)}catch(d){return window[c+"_localStorage"]}return""}},{key:"remove",value:function(c){try{window.localStorage&&localStorage.removeItem(c)}catch(d){delete window[c+"_localStorage"]}}}]),r}();w.default=B},function(z,w,U){"use strict";function m(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function r(h,c){for(var d=0;d<c.length;d++){var o=c[d];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,c,d){return c&&r(h.prototype,c),d&&r(h,d),h}}(),B=function(){function r(){m(this,r)}return P(r,null,[{key:"get",value:function(c){for(var d=c+"",o=document.cookie.split(";"),u=0;u<o.length;u++){var i=o[u].trim();if(i.indexOf(d)==0)return unescape(i.substring(d.length+1,i.length))}return""}},{key:"set",value:function(c,d,o){var u=new Date;u.setTime(u.getTime()+24*o*60*60*1e3);var i="expires="+u.toGMTString();document.cookie=c+"="+escape(d)+"; "+i}}]),r}();w.default=B},function(z,w,U){"use strict";function m(u){return u&&u.__esModule?u:{default:u}}function P(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var B=function(){function u(i,l){for(var s=0;s<l.length;s++){var p=l[s];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(i,p.key,p)}}return function(i,l,s){return l&&u(i.prototype,l),s&&u(i,s),i}}(),r=U(9),h=m(r),c=U(10),d=m(c),o=function(){function u(){P(this,u)}return B(u,null,[{key:"refreshUploadAuth",value:function(l,s,p){var b=(d.default.randomUUID(),d.default.randomUUID()),g={AccessKeyId:l.accessKeyId,SecurityToken:l.securityToken,Action:"RefreshUploadVideo",VideoId:l.videoId,Version:"2017-03-21",Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:b,RequestId:l.requestId},S=d.default.makeUTF8sort(g,"=","&")+"&Signature="+d.default.aliyunEncodeURI(d.default.makeChangeSiga(g,l.accessKeySecret)),R="https://vod."+l.region+".aliyuncs.com/?"+S;h.default.get(R,function(y){var y=JSON.parse(y);s&&s(y)},function(T){if(p){var y=JSON.parse(T);p(y)}})}},{key:"getUploadAuth",value:function(l,s,p){var b=(d.default.randomUUID(),d.default.randomUUID()),g={AccessKeyId:l.accessKeyId,SecurityToken:l.securityToken,Action:"CreateUploadVideo",Title:l.title,FileName:l.fileName,Version:"2017-03-21",Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:b,RequestId:l.requestId};l.fileSize&&(g.FileSize=l.fileSize),l.description&&(g.Description=l.description),l.cateId&&(g.CateId=l.cateId),l.tags&&(g.Tags=l.tags),l.templateGroupId&&(g.TemplateGroupId=l.templateGroupId),l.storageLocation&&(g.StorageLocation=l.storageLocation),l.coverUrl&&(g.CoverURL=l.coverUrl),l.transCodeMode&&(g.TransCodeMode=l.transCodeMode),l.userData&&(g.UserData=JSON.stringify(l.userData)),l.WorkflowId&&(g.WorkflowId=l.WorkflowId),l.AppId&&(g.AppId=l.AppId);var S=d.default.makeUTF8sort(g,"=","&")+"&Signature="+d.default.aliyunEncodeURI(d.default.makeChangeSiga(g,l.accessKeySecret)),R="https://vod."+l.region+".aliyuncs.com/?"+S;h.default.get(R,function(T){try{T=JSON.parse(T)}catch(y){if(p)return void p({Code:"GetUploadAuthFailed",Message:"\u83B7\u53D6uploadauth\u5931\u8D25"})}s&&s(T)},function(T){if(p){var y={Code:"GetUploadAuthFailed",Message:"\u83B7\u53D6uploadauth\u5931\u8D25"};try{y=JSON.parse(T)}catch(E){}p(y)}})}},{key:"getImageUploadAuth",value:function(l,s,p){var b=(d.default.randomUUID(),d.default.randomUUID()),g={AccessKeyId:l.accessKeyId,SecurityToken:l.securityToken,Action:"CreateUploadImage",ImageType:l.imageType?l.imageType:"default",Version:"2017-03-21",Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:b,RequestId:l.requestId};l.title&&(g.Title=l.title),l.imageExt&&(g.ImageExt=l.imageExt),l.tags&&(g.Tags=l.tags),l.storageLocation&&(g.StorageLocation=l.storageLocation);var S=d.default.makeUTF8sort(g,"=","&")+"&Signature="+d.default.aliyunEncodeURI(d.default.makeChangeSiga(g,l.accessKeySecret)),R="https://vod."+l.region+".aliyuncs.com/?"+S;h.default.get(R,function(T){T=JSON.parse(T),s&&s(T)},function(T){if(p){var y=JSON.parse(T);p(y)}})}}]),u}();w.default=o},function(z,w,U){(function(m,P,B){z.exports=w=P(U(0),U(29),U(30))})(0,function(m){return m.HmacSHA1})},function(z,w){},function(z,w,U){(function(m,P){z.exports=w=P(U(0))})(0,function(m){return function(){var P=m,B=P.lib,r=B.WordArray,h=B.Hasher,c=P.algo,d=[],o=c.SHA1=h.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(i,l){for(var s=this._hash.words,p=s[0],b=s[1],g=s[2],S=s[3],R=s[4],T=0;T<80;T++){if(T<16)d[T]=0|i[l+T];else{var y=d[T-3]^d[T-8]^d[T-14]^d[T-16];d[T]=y<<1|y>>>31}var E=(p<<5|p>>>27)+R+d[T];E+=T<20?1518500249+(b&g|~b&S):T<40?1859775393+(b^g^S):T<60?(b&g|b&S|g&S)-1894007588:(b^g^S)-899497514,R=S,S=g,g=b<<30|b>>>2,b=p,p=E}s[0]=s[0]+p|0,s[1]=s[1]+b|0,s[2]=s[2]+g|0,s[3]=s[3]+S|0,s[4]=s[4]+R|0},_doFinalize:function(){var i=this._data,l=i.words,s=8*this._nDataBytes,p=8*i.sigBytes;return l[p>>>5]|=128<<24-p%32,l[14+(p+64>>>9<<4)]=Math.floor(s/4294967296),l[15+(p+64>>>9<<4)]=s,i.sigBytes=4*l.length,this._process(),this._hash},clone:function(){var i=h.clone.call(this);return i._hash=this._hash.clone(),i}});P.SHA1=h._createHelper(o),P.HmacSHA1=h._createHmacHelper(o)}(),m.SHA1})},function(z,w,U){(function(m,P){z.exports=w=P(U(0))})(0,function(m){(function(){var P=m,B=P.lib,r=B.Base,h=P.enc,c=h.Utf8,d=P.algo;d.HMAC=r.extend({init:function(u,i){u=this._hasher=new u.init,typeof i=="string"&&(i=c.parse(i));var l=u.blockSize,s=4*l;i.sigBytes>s&&(i=u.finalize(i)),i.clamp();for(var p=this._oKey=i.clone(),b=this._iKey=i.clone(),g=p.words,S=b.words,R=0;R<l;R++)g[R]^=1549556828,S[R]^=909522486;p.sigBytes=b.sigBytes=s,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var i=this._hasher,l=i.finalize(u);return i.reset(),i.finalize(this._oKey.clone().concat(l))}})})()})},function(z,w,U){(function(m,P){z.exports=w=P(U(0))})(0,function(m){return function(){function P(d,o,u){for(var i=[],l=0,s=0;s<o;s++)if(s%4){var p=u[d.charCodeAt(s-1)]<<s%4*2,b=u[d.charCodeAt(s)]>>>6-s%4*2,g=p|b;i[l>>>2]|=g<<24-l%4*8,l++}return h.create(i,l)}var B=m,r=B.lib,h=r.WordArray,c=B.enc;c.Base64={stringify:function(o){var u=o.words,i=o.sigBytes,l=this._map;o.clamp();for(var s=[],p=0;p<i;p+=3)for(var b=u[p>>>2]>>>24-p%4*8&255,g=u[p+1>>>2]>>>24-(p+1)%4*8&255,S=u[p+2>>>2]>>>24-(p+2)%4*8&255,R=b<<16|g<<8|S,T=0;T<4&&p+.75*T<i;T++)s.push(l.charAt(R>>>6*(3-T)&63));var y=l.charAt(64);if(y)for(;s.length%4;)s.push(y);return s.join("")},parse:function(o){var u=o.length,i=this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var s=0;s<i.length;s++)l[i.charCodeAt(s)]=s}var p=i.charAt(64);if(p){var b=o.indexOf(p);b!==-1&&(u=b)}return P(o,u,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),m.enc.Base64})},function(z,w,U){"use strict";function m(E){return E&&E.__esModule?E:{default:E}}function P(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var B=function(){function E(N,j){for(var H=0;H<j.length;H++){var Y=j[H];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(N,Y.key,Y)}}return function(N,j,H){return j&&E(N.prototype,j),H&&E(N,H),N}}(),r=U(9),h=m(r),c=U(8),d=m(c),o=U(5),u=m(o),i=U(7),l=m(i),s=U(1),p=m(s),b=U(10),g=m(b),S=U(2),R=U(12),T=U(11),y=function(){function E(){P(this,E)}return B(E,null,[{key:"getAuthInfo",value:function(j,H,Y){var V=j+"|f#Ylm&^1TppeRhLg|"+Y;return H&&(V=j+"|"+H+"|f#Ylm&^1TppeRhLg|"+Y),S(T.parse(V)).toString(R)}},{key:"upload",value:function(j,H,Y){var V=p.default.ISODateString(new Date),F=Math.floor(new Date().valueOf()/1e3),a=u.default.getClientId();a=u.default.setClientId(a);var v=E.getAuthInfo(j.userId,a,F),I=g.default.randomUUID(),C={Source:"WebSDK",BusinessType:"UploadVideo",Action:"ReportUploadProgress",TerminalType:"H5",DeviceModel:d.default.browser.name+(d.default.browser.version||""),AppVersion:l.default.version,AuthTimestamp:F,Timestamp:V,AuthInfo:v,FileName:j.file.name,FileSize:j.file.size,FileCreateTime:j.file.lastModified,FileHash:j.fileHash,UploadId:j.checkpoint.checkpoint.uploadId,PartSize:j.checkpoint.checkpoint.partSize,DonePartsCount:j.checkpoint.checkpoint.doneParts.length,UploadPoint:JSON.stringify(j.checkpoint),UploadRatio:j.checkpoint.loaded,UserId:j.userId,VideoId:j.videoId,Version:"2017-03-21",Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:I};a&&(C.ClientId=a);var D=g.default.makeUTF8sort(C,"=","&")+"&Signature="+g.default.aliyunEncodeURI(g.default.makeChangeSiga(C,j.accessKeySecret)),W="https://vod."+j.region+".aliyuncs.com/?";h.default.post(W,function(x){H&&H()},function(x){x&&(Y(x),console.log(x))},D)}},{key:"get",value:function(j,H,Y){var V=p.default.ISODateString(new Date),F=Math.floor(new Date().valueOf()/1e3),a=u.default.getClientId(),v=E.getAuthInfo(j.userId,a,F),I=g.default.randomUUID(),C={Source:"WebSDK",BusinessType:"UploadVideo",Action:"GetUploadProgress",TerminalType:"H5",DeviceModel:d.default.browser.name+(d.default.browser.version||""),AppVersion:l.default.version,AuthTimestamp:F,Timestamp:V,AuthInfo:v,UserId:j.userId,UploadInfoList:JSON.stringify(j.uploadInfoList),Version:"2017-03-21",Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:I};a&&(C.ClientId=a);var D=g.default.makeUTF8sort(C,"=","&")+"&Signature="+g.default.aliyunEncodeURI(g.default.makeChangeSiga(C,j.accessKeySecret)),W="https://vod."+j.region+".aliyuncs.com/?"+D;h.default.get(W,function(x){var K={},J=a;x=x?JSON.parse(x):{},x.UploadProgress&&x.UploadProgress.UploadProgressList&&x.UploadProgress.UploadProgressList.length>0&&(K=x.UploadProgress.UploadProgressList[0],J=K.ClientId),u.default.setClientId(J),H&&H(K)},function(x){x&&(Y(x),console.log(x))})}}]),E}();w.default=y},function(z,w,U){"use strict";function m(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function c(d,o){for(var u=0;u<o.length;u++){var i=o[u];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(d,i.key,i)}}return function(d,o,u){return o&&c(d.prototype,o),u&&c(d,u),d}}(),B=U(2),r=U(34),h=(U(12),function(){function c(){m(this,c)}return P(c,null,[{key:"getMd5",value:function(o,u,i){var l=new FileReader;l.onload=function(b){try{var g=b&&b.target.result||l.content,S=B(r.parse(g)),R=S.toString(),T=window.btoa(S.toString(r));u(R,T)}catch(y){console.log(y)}},l.onerror=function(b){console.log(b),errorCallback(b)};var s=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,p=s.call(o,0,1024);l.readAsBinaryString(p)}}]),c}());w.default=h},function(z,w,U){(function(m,P){z.exports=w=P(U(0))})(0,function(m){return m.enc.Latin1})}])},65778:function(Ce,Ae,Z){"use strict";Z.r(Ae);var we=Z(15009),z=Z.n(we),w=Z(99289),U=Z.n(w),m=Z(19632),P=Z.n(m),B=Z(5574),r=Z.n(B),h=Z(68400),c=Z.n(h),d=Z(97857),o=Z.n(d),u=Z(97584),i=Z(51042),l=Z(79090),s=Z(46385),p=Z.n(s),b=Z(45360),g=Z(83622),S=Z(36457),R=Z(85576),T=Z(67294),y=Z(83902),E=Z.n(y),N=Z(60887),j=Z(45587),H=Z(97133),Y=Z(52715),V=Z(85893),F;window.OSS=p();var a=function(C){var D=C.originNode,W=C.file,x=(0,j.nB)({id:W.uid}),K=x.attributes,J=x.listeners,G=x.setNodeRef,k=x.transform,M=x.transition,O=x.isDragging,L={cursor:"move",transition:"unset",height:"100%",width:"100%"},he=k?o()(o()({},L),{},{transform:"translate3d(".concat(k.x,"px, ").concat(k.y,"px, 0)"),transition:O?"unset":M},O?{zIndex:9999}:{}):L,ce=O?(0,H.iv)(F||(F=c()([`
        a {
          pointer-events: none;
        }
      `]))):"";return(0,V.jsx)("div",o()(o()(o()({ref:G,style:he,className:ce},K),J),{},{children:W.status==="error"&&O?D.props.children:D}))},v=function(C){var D,W=C.max,x=W===void 0?1:W,K=C.value,J=K===void 0?[]:K,G=C.fieldProps,k=G===void 0?{name:"file",listType:"picture-card",accept:"video/*"}:G,M=C.buttonType,O=M===void 0?"card":M,L=b.ZP.useMessage(),he=r()(L,2),ce=he[0],me=he[1],pe="aliyun_video_uploader_progress",Ie=(0,Y.useModel)("@@initialState"),Te=Ie.initialState,ge=Te==null||(D=Te.settings)===null||D===void 0||(D=D.adminSetting)===null||D===void 0?void 0:D.baseurl,Ue=function(oe){var ee=new AliyunUpload.Vod({timeout:6e5,partSize:1048576,parallel:5,retryCount:3,retryDuration:2,region:"cn-shanghai",userId:"1303984639806000",addFileSuccess:function(Q){ee.startUpload()},onUploadstarted:function(Q){var de=this,se=Q.videoId?"uploader/refreshUploadVideo":"uploader/createUploadVideo";u.ZP.post(se,{data:Q.videoId?{VideoId:Q.videoId}:{title:Q.file.name,name:Q.file.name},then:function(){}}).then(function(le){if(!le.data)ce.error(le.msg);else{var ye=le.data.UploadAuth,Le=le.data.UploadAddress,Me=le.data.VideoId;ee.setUploadAuthAndAddress(Q,ye,Le,Me)}})},onUploadSucceed:function(Q){var de;n(!1),ce.open({key:pe,type:"success",content:"\u4E0A\u4F20\u5B8C\u6210",duration:2});var se=te.findIndex(function(ye){return ye.uid==Q.file.uid}),le={uid:Q.file.uid,name:Q.file.name,url:ge+"video.png",value:Q.videoId,status:"done"};se>=0?te.splice(se,1,le):te.push(le),console.log("index and list is",se,te),ve(P()(te)),(de=C.onChange)===null||de===void 0||de.call(C,P()(te))},onUploadFailed:function(Q,de,se){ce.error("\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25!")},onUploadCanceled:function(Q,de,se){},onUploadProgress:function(Q,de,se){var le=Math.ceil(se*100)+"%";ce.open({key:pe,type:"loading",content:"\u4E0A\u4F20\u4E2D\uFF0C\u8FDB\u5EA6\uFF1A"+le})},onUploadTokenExpired:function(Q){ce.error("\u4E0A\u4F20\u51ED\u8BC1\u8D85\u65F6,\u8BF7\u91CD\u8BD5!")},onUploadEnd:function(Q){}});return ee},Ee=(0,T.useState)(J&&typeof J!="string"?J.map(function(ae){return ae.url=ae.url?ae.url:ge+"video.png",ae}):[]),fe=r()(Ee,2),te=fe[0],ve=fe[1],Pe=(0,T.useState)(!1),e=r()(Pe,2),t=e[0],n=e[1];k.maxCount=x,k.multiple=x>1;var f=(0,V.jsxs)("div",{children:[(0,V.jsx)(i.Z,{}),(0,V.jsx)("div",{style:{marginTop:4},children:"\u9009\u62E9\u89C6\u9891"}),(0,V.jsxs)("div",{children:[te.length,"/",x]})]}),_=O=="card"?(0,V.jsxs)("div",{children:[t?(0,V.jsx)(l.Z,{}):(0,V.jsx)(i.Z,{}),(0,V.jsx)("div",{style:{marginTop:8},children:"\u9009\u62E9\u89C6\u9891"})]}):(0,V.jsx)(g.ZP,{icon:(0,V.jsx)(i.Z,{}),children:"\u9009\u62E9\u89C6\u9891"}),A=function(){var ae=U()(z()().mark(function oe(ee){var ie,Q;return z()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return n(!0),ve([].concat(P()(te),[ee])),ie=Ue(!0),Q='{"Vod":{}}',ie.addFile(ee,null,null,null,Q),se.abrupt("return",!1);case 6:case"end":return se.stop()}},oe)}));return function(ee){return ae.apply(this,arguments)}}(),X=(0,T.useState)(),q=r()(X,2),ne=q[0],$=q[1],re=(0,T.useState)(!1),ue=r()(re,2),be=ue[0],_e=ue[1],Se=(0,N.VT)(N.we,{activationConstraint:{distance:10}}),De=function(oe){var ee=oe.active,ie=oe.over;if(ee.id!==(ie==null?void 0:ie.id)){var Q,de=te.findIndex(function(ye){return ye.uid===ee.id}),se=te.findIndex(function(ye){return ye.uid===(ie==null?void 0:ie.id)}),le=(0,j.Rp)(te,de,se);ve(P()(le)),(Q=C.onChange)===null||Q===void 0||Q.call(C,P()(le))}},ke=function(oe){if(oe.file.status==="uploading"&&(n(!0),ve(P()(oe.fileList))),oe.file.status==="removed"){var ee,ie=te.filter(function(Q){return Q.uid!=oe.file.uid});(ee=C.onChange)===null||ee===void 0||ee.call(C,P()(ie)),ve(ie)}},Oe=function(oe){oe.play_url?(_e(!0),$(oe)):(ce.open({key:pe,type:"loading",content:"\u8BFB\u53D6\u64AD\u653E\u5730\u5740\u4E2D"}),u.ZP.post("uploader/getVideoUrl",{data:{VideoId:oe.value},then:function(){}}).then(function(ee){ee.data?(ee.data.cover_url&&(oe.url=ee.data.cover_url),ee.data.play_url?(ce.destroy(pe),oe.play_url=ee.data.play_url,_e(!0),$(oe)):ce.info({key:pe,content:"\u89C6\u9891\u4E0A\u4F20\u540E\u9700\u8981\u4E00\u70B9\u65F6\u95F4\u83B7\u53D6\u64AD\u653E\u5730\u5740\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"})):ce.error({key:pe,content:"\u89C6\u9891\u5730\u5740\u672A\u83B7\u53D6\u5230"})}))};return(0,V.jsxs)(V.Fragment,{children:[x==1?(0,V.jsx)(S.Z,o()(o()({},k),{},{beforeUpload:A,listType:O=="card"?"picture-card":"text",className:"sa-upload-list",showUploadList:!!(te.length&&!t),fileList:te,onChange:ke,onPreview:Oe,children:te.length&&!t?null:_})):(0,V.jsx)(N.LB,{sensors:[Se],onDragEnd:De,children:(0,V.jsx)(j.Fo,{items:te.map(function(ae){return ae.uid}),children:(0,V.jsx)(S.Z,o()(o()({},k),{},{beforeUpload:A,listType:O=="card"?"picture-card":"text",itemRender:function(oe,ee){return(0,V.jsx)(a,{originNode:oe,file:ee})},fileList:te,onChange:ke,onPreview:Oe,children:te.length&&te.length==x&&!t?null:f}))})}),(0,V.jsx)(R.Z,{title:"\u9884\u89C8\u89C6\u9891",open:be,footer:!1,afterOpenChange:function(oe){_e(oe)},onCancel:function(){_e(!1)},onOk:function(){_e(!1)},children:(0,V.jsx)("video",{src:ne==null?void 0:ne.play_url,width:"100%",height:"auto",controls:!0})}),me]})};Ae.default=v}}]);
