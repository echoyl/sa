<template id="open-form" v-cloak>
	<sa-antd-form :url="url" v-slot="{data,post}" @ready="ready" ref="form" :on-submit="submit" :style='{width:"635px"}' :bottom-submit="false">
		<div class="ant-card">
			<div class="ant-card-body" style="padding-top:12px;">
				$form$
				<sa-antd-form-item :wrapper-col='{span:18,offset:6}'>
					<sa-antd-button :type="'submit'" :uparams='{type:"primary"}'>提 交</sa-antd-button>
					<sa-antd-button :on-click="reset" :uparams='{type:"default"}'>重 置</sa-antd-button>
				</sa-antd-form-item>
			</div>
		</div>
	</sa-antd-form>
</template>
<script>
require(['sa/render','sa-antd/form'],function(render){
	var firstIndex = layer.index;
	new Vue({
		el:"#open-form",
		data()
		{
			return {
				url:'$url$/show',
			}
		},
		methods:{
			submit(data)
			{
				return sadmin.form('$url$',Object.assign({base:data},sadmin.pageParams)).then(function(res)
				{
					sadmin.close({},firstIndex);
				});
			},
			reset()
			{
				this.$refs.form.reset();
			},
			ready()
			{
				render.init();
			}
		}
	});
});
</script>
